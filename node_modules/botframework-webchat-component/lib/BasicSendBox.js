"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useSendBoxSpeechInterimsVisible = useSendBoxSpeechInterimsVisible;
exports.default = void 0;

var _botframeworkWebchatCore = require("botframework-webchat-core");

var _botframeworkWebchatApi = require("botframework-webchat-api");

var _classnames = _interopRequireDefault(require("classnames"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _react = _interopRequireDefault(require("react"));

var _DictationInterims = _interopRequireDefault(require("./SendBox/DictationInterims"));

var _MicrophoneButton = _interopRequireDefault(require("./SendBox/MicrophoneButton"));

var _SendButton = _interopRequireDefault(require("./SendBox/SendButton"));

var _SuggestedActions = _interopRequireDefault(require("./SendBox/SuggestedActions"));

var _TextBox = _interopRequireDefault(require("./SendBox/TextBox"));

var _UploadButton = _interopRequireDefault(require("./SendBox/UploadButton"));

var _useStyleSet3 = _interopRequireDefault(require("./hooks/useStyleSet"));

var _useStyleToEmotionObject = _interopRequireDefault(require("./hooks/internal/useStyleToEmotionObject"));

var _useWebSpeechPonyfill4 = _interopRequireDefault(require("./hooks/useWebSpeechPonyfill"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

var _Constants$DictateSta = _botframeworkWebchatCore.Constants.DictateState,
    DICTATING = _Constants$DictateSta.DICTATING,
    STARTING = _Constants$DictateSta.STARTING;
var useActivities = _botframeworkWebchatApi.hooks.useActivities,
    useDirection = _botframeworkWebchatApi.hooks.useDirection,
    useDictateState = _botframeworkWebchatApi.hooks.useDictateState,
    useStyleOptions = _botframeworkWebchatApi.hooks.useStyleOptions;
var ROOT_STYLE = {
  '& > .main': {
    display: 'flex'
  }
};
var DICTATION_INTERIMS_STYLE = {
  flex: 10000
};
var MICROPHONE_BUTTON_STYLE = {
  flex: 1
};
var TEXT_BOX_STYLE = {
  flex: 10000
}; // TODO: [P3] We should consider exposing core/src/definitions and use it instead

function activityIsSpeakingOrQueuedToSpeak(_ref) {
  var _ref$channelData = _ref.channelData;
  _ref$channelData = _ref$channelData === void 0 ? {} : _ref$channelData;
  var speak = _ref$channelData.speak;
  return !!speak;
}

function useSendBoxSpeechInterimsVisible() {
  var _useActivities = useActivities(),
      _useActivities2 = _slicedToArray(_useActivities, 1),
      activities = _useActivities2[0];

  var _useDictateState = useDictateState(),
      _useDictateState2 = _slicedToArray(_useDictateState, 1),
      dictateState = _useDictateState2[0];

  return [(dictateState === STARTING || dictateState === DICTATING) && !activities.filter(activityIsSpeakingOrQueuedToSpeak).length];
}

var BasicSendBox = function BasicSendBox(_ref2) {
  var className = _ref2.className;

  var _useStyleOptions = useStyleOptions(),
      _useStyleOptions2 = _slicedToArray(_useStyleOptions, 1),
      hideUploadButton = _useStyleOptions2[0].hideUploadButton;

  var _useStyleSet = (0, _useStyleSet3.default)(),
      _useStyleSet2 = _slicedToArray(_useStyleSet, 1),
      sendBoxStyleSet = _useStyleSet2[0].sendBox;

  var _useWebSpeechPonyfill = (0, _useWebSpeechPonyfill4.default)(),
      _useWebSpeechPonyfill2 = _slicedToArray(_useWebSpeechPonyfill, 1),
      _useWebSpeechPonyfill3 = _useWebSpeechPonyfill2[0];

  _useWebSpeechPonyfill3 = _useWebSpeechPonyfill3 === void 0 ? {} : _useWebSpeechPonyfill3;
  var SpeechRecognition = _useWebSpeechPonyfill3.SpeechRecognition;

  var _useDirection = useDirection(),
      _useDirection2 = _slicedToArray(_useDirection, 1),
      direction = _useDirection2[0];

  var _useSendBoxSpeechInte = useSendBoxSpeechInterimsVisible(),
      _useSendBoxSpeechInte2 = _slicedToArray(_useSendBoxSpeechInte, 1),
      speechInterimsVisible = _useSendBoxSpeechInte2[0];

  var styleToEmotionObject = (0, _useStyleToEmotionObject.default)();
  var dictationInterimsClassName = styleToEmotionObject(DICTATION_INTERIMS_STYLE) + '';
  var microphoneButtonClassName = styleToEmotionObject(MICROPHONE_BUTTON_STYLE) + '';
  var rootClassName = styleToEmotionObject(ROOT_STYLE) + '';
  var textBoxClassName = styleToEmotionObject(TEXT_BOX_STYLE) + '';
  var supportSpeechRecognition = !!SpeechRecognition;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: (0, _classnames.default)(sendBoxStyleSet + '', rootClassName, (className || '') + ''),
    dir: direction,
    role: "form"
  }, /*#__PURE__*/_react.default.createElement(_SuggestedActions.default, null), /*#__PURE__*/_react.default.createElement("div", {
    className: "main"
  }, !hideUploadButton && /*#__PURE__*/_react.default.createElement(_UploadButton.default, null), speechInterimsVisible ? /*#__PURE__*/_react.default.createElement(_DictationInterims.default, {
    className: dictationInterimsClassName
  }) : /*#__PURE__*/_react.default.createElement(_TextBox.default, {
    className: textBoxClassName
  }), /*#__PURE__*/_react.default.createElement("div", null, supportSpeechRecognition ? /*#__PURE__*/_react.default.createElement(_MicrophoneButton.default, {
    className: microphoneButtonClassName
  }) : /*#__PURE__*/_react.default.createElement(_SendButton.default, null))));
};

BasicSendBox.defaultProps = {
  className: ''
};
BasicSendBox.propTypes = {
  className: _propTypes.default.string
};
var _default = BasicSendBox;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9CYXNpY1NlbmRCb3guanMiXSwibmFtZXMiOlsiQ29uc3RhbnRzIiwiRGljdGF0ZVN0YXRlIiwiRElDVEFUSU5HIiwiU1RBUlRJTkciLCJ1c2VBY3Rpdml0aWVzIiwiaG9va3MiLCJ1c2VEaXJlY3Rpb24iLCJ1c2VEaWN0YXRlU3RhdGUiLCJ1c2VTdHlsZU9wdGlvbnMiLCJST09UX1NUWUxFIiwiZGlzcGxheSIsIkRJQ1RBVElPTl9JTlRFUklNU19TVFlMRSIsImZsZXgiLCJNSUNST1BIT05FX0JVVFRPTl9TVFlMRSIsIlRFWFRfQk9YX1NUWUxFIiwiYWN0aXZpdHlJc1NwZWFraW5nT3JRdWV1ZWRUb1NwZWFrIiwiY2hhbm5lbERhdGEiLCJzcGVhayIsInVzZVNlbmRCb3hTcGVlY2hJbnRlcmltc1Zpc2libGUiLCJhY3Rpdml0aWVzIiwiZGljdGF0ZVN0YXRlIiwiZmlsdGVyIiwibGVuZ3RoIiwiQmFzaWNTZW5kQm94IiwiY2xhc3NOYW1lIiwiaGlkZVVwbG9hZEJ1dHRvbiIsInNlbmRCb3hTdHlsZVNldCIsInNlbmRCb3giLCJTcGVlY2hSZWNvZ25pdGlvbiIsImRpcmVjdGlvbiIsInNwZWVjaEludGVyaW1zVmlzaWJsZSIsInN0eWxlVG9FbW90aW9uT2JqZWN0IiwiZGljdGF0aW9uSW50ZXJpbXNDbGFzc05hbWUiLCJtaWNyb3Bob25lQnV0dG9uQ2xhc3NOYW1lIiwicm9vdENsYXNzTmFtZSIsInRleHRCb3hDbGFzc05hbWUiLCJzdXBwb3J0U3BlZWNoUmVjb2duaXRpb24iLCJkZWZhdWx0UHJvcHMiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJzdHJpbmciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7NEJBSUlBLGtDLENBREZDLFk7SUFBZ0JDLFMseUJBQUFBLFM7SUFB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SixlQU9FLDBDQUNHQyx3QkFBd0IsZ0JBQUcsNkJBQUMseUJBQUQ7QUFBa0IsSUFBQSxTQUFTLEVBQUVIO0FBQTdCLElBQUgsZ0JBQWdFLDZCQUFDLG1CQUFELE9BRDNGLENBUEYsQ0FORixDQURGO0FBb0JELENBbkNEOztBQXFDQVYsWUFBWSxDQUFDYyxZQUFiLEdBQTRCO0FBQzFCYixFQUFBQSxTQUFTLEVBQUU7QUFEZSxDQUE1QjtBQUlBRCxZQUFZLENBQUNlLFNBQWIsR0FBeUI7QUFDdkJkLEVBQUFBLFNBQVMsRUFBRWUsbUJBQVVDO0FBREUsQ0FBekI7ZUFJZWpCLFkiLCJzb3VyY2VSb290IjoiY29tcG9uZW50Oi8vLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gJ2JvdGZyYW1ld29yay13ZWJjaGF0LWNvcmUnO1xuaW1wb3J0IHsgaG9va3MgfSBmcm9tICdib3RmcmFtZXdvcmstd2ViY2hhdC1hcGknO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IERpY3RhdGlvbkludGVyaW1zIGZyb20gJy4vU2VuZEJveC9EaWN0YXRpb25JbnRlcmltcyc7XG5pbXBvcnQgTWljcm9waG9uZUJ1dHRvbiBmcm9tICcuL1NlbmRCb3gvTWljcm9waG9uZUJ1dHRvbic7XG5pbXBvcnQgU2VuZEJ1dHRvbiBmcm9tICcuL1NlbmRCb3gvU2VuZEJ1dHRvbic7XG5pbXBvcnQgU3VnZ2VzdGVkQWN0aW9ucyBmcm9tICcuL1NlbmRCb3gvU3VnZ2VzdGVkQWN0aW9ucyc7XG5pbXBvcnQgVGV4dEJveCBmcm9tICcuL1NlbmRCb3gvVGV4dEJveCc7XG5pbXBvcnQgVXBsb2FkQnV0dG9uIGZyb20gJy4vU2VuZEJveC9VcGxvYWRCdXR0b24nO1xuaW1wb3J0IHVzZVN0eWxlU2V0IGZyb20gJy4vaG9va3MvdXNlU3R5bGVTZXQnO1xuaW1wb3J0IHVzZVN0eWxlVG9FbW90aW9uT2JqZWN0IGZyb20gJy4vaG9va3MvaW50ZXJuYWwvdXNlU3R5bGVUb0Vtb3Rpb25PYmplY3QnO1xuaW1wb3J0IHVzZVdlYlNwZWVjaFBvbnlmaWxsIGZyb20gJy4vaG9va3MvdXNlV2ViU3BlZWNoUG9ueWZpbGwnO1xuXG5jb25zdCB7XG4gIERpY3RhdGVTdGF0ZTogeyBESUNUQVRJTkcsIFNUQVJUSU5HIH1cbn0gPSBDb25zdGFudHM7XG5cbmNvbnN0IHsgdXNlQWN0aXZpdGllcywgdXNlRGlyZWN0aW9uLCB1c2VEaWN0YXRlU3RhdGUsIHVzZVN0eWxlT3B0aW9ucyB9ID0gaG9va3M7XG5cbmNvbnN0IFJPT1RfU1RZTEUgPSB7XG4gICcmID4gLm1haW4nOiB7XG4gICAgZGlzcGxheTogJ2ZsZXgnXG4gIH1cbn07XG5cbmNvbnN0IERJQ1RBVElPTl9JTlRFUklNU19TVFlMRSA9IHsgZmxleDogMTAwMDAgfTtcbmNvbnN0IE1JQ1JPUEhPTkVfQlVUVE9OX1NUWUxFID0geyBmbGV4OiAxIH07XG5jb25zdCBURVhUX0JPWF9TVFlMRSA9IHsgZmxleDogMTAwMDAgfTtcblxuLy8gVE9ETzogW1AzXSBXZSBzaG91bGQgY29uc2lkZXIgZXhwb3NpbmcgY29yZS9zcmMvZGVmaW5pdGlvbnMgYW5kIHVzZSBpdCBpbnN0ZWFkXG5mdW5jdGlvbiBhY3Rpdml0eUlzU3BlYWtpbmdPclF1ZXVlZFRvU3BlYWsoeyBjaGFubmVsRGF0YTogeyBzcGVhayB9ID0ge30gfSkge1xuICByZXR1cm4gISFzcGVhaztcbn1cblxuZnVuY3Rpb24gdXNlU2VuZEJveFNwZWVjaEludGVyaW1zVmlzaWJsZSgpIHtcbiAgY29uc3QgW2FjdGl2aXRpZXNdID0gdXNlQWN0aXZpdGllcygpO1xuICBjb25zdCBbZGljdGF0ZVN0YXRlXSA9IHVzZURpY3RhdGVTdGF0ZSgpO1xuXG4gIHJldHVybiBbXG4gICAgKGRpY3RhdGVTdGF0ZSA9PT0gU1RBUlRJTkcgfHwgZGljdGF0ZVN0YXRlID09PSBESUNUQVRJTkcpICYmXG4gICAgICAhYWN0aXZpdGllcy5maWx0ZXIoYWN0aXZpdHlJc1NwZWFraW5nT3JRdWV1ZWRUb1NwZWFrKS5sZW5ndGhcbiAgXTtcbn1cblxuY29uc3QgQmFzaWNTZW5kQm94ID0gKHsgY2xhc3NOYW1lIH0pID0+IHtcbiAgY29uc3QgW3sgaGlkZVVwbG9hZEJ1dHRvbiB9XSA9IHVzZVN0eWxlT3B0aW9ucygpO1xuICBjb25zdCBbeyBzZW5kQm94OiBzZW5kQm94U3R5bGVTZXQgfV0gPSB1c2VTdHlsZVNldCgpO1xuICBjb25zdCBbeyBTcGVlY2hSZWNvZ25pdGlvbiB9ID0ge31dID0gdXNlV2ViU3BlZWNoUG9ueWZpbGwoKTtcbiAgY29uc3QgW2RpcmVjdGlvbl0gPSB1c2VEaXJlY3Rpb24oKTtcbiAgY29uc3QgW3NwZWVjaEludGVyaW1zVmlzaWJsZV0gPSB1c2VTZW5kQm94U3BlZWNoSW50ZXJpbXNWaXNpYmxlKCk7XG4gIGNvbnN0IHN0eWxlVG9FbW90aW9uT2JqZWN0ID0gdXNlU3R5bGVUb0Vtb3Rpb25PYmplY3QoKTtcblxuICBjb25zdCBkaWN0YXRpb25JbnRlcmltc0NsYXNzTmFtZSA9IHN0eWxlVG9FbW90aW9uT2JqZWN0KERJQ1RBVElPTl9JTlRFUklNU19TVFlMRSkgKyAnJztcbiAgY29uc3QgbWljcm9waG9uZUJ1dHRvbkNsYXNzTmFtZSA9IHN0eWxlVG9FbW90aW9uT2JqZWN0KE1JQ1JPUEhPTkVfQlVUVE9OX1NUWUxFKSArICcnO1xuICBjb25zdCByb290Q2xhc3NOYW1lID0gc3R5bGVUb0Vtb3Rpb25PYmplY3QoUk9PVF9TVFlMRSkgKyAnJztcbiAgY29uc3QgdGV4dEJveENsYXNzTmFtZSA9IHN0eWxlVG9FbW90aW9uT2JqZWN0KFRFWFRfQk9YX1NUWUxFKSArICcnO1xuXG4gIGNvbnN0IHN1cHBvcnRTcGVlY2hSZWNvZ25pdGlvbiA9ICEhU3BlZWNoUmVjb2duaXRpb247XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoc2VuZEJveFN0eWxlU2V0ICsgJycsIHJvb3RDbGFzc05hbWUsIChjbGFzc05hbWUgfHwgJycpICsgJycpfVxuICAgICAgZGlyPXtkaXJlY3Rpb259XG4gICAgICByb2xlPVwiZm9ybVwiXG4gICAgPlxuICAgICAgPFN1Z2dlc3RlZEFjdGlvbnMgLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFpblwiPlxuICAgICAgICB7IWhpZGVVcGxvYWRCdXR0b24gJiYgPFVwbG9hZEJ1dHRvbiAvPn1cbiAgICAgICAge3NwZWVjaEludGVyaW1zVmlzaWJsZSA/IChcbiAgICAgICAgICA8RGljdGF0aW9uSW50ZXJpbXMgY2xhc3NOYW1lPXtkaWN0YXRpb25JbnRlcmltc0NsYXNzTmFtZX0gLz5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8VGV4dEJveCBjbGFzc05hbWU9e3RleHRCb3hDbGFzc05hbWV9IC8+XG4gICAgICAgICl9XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAge3N1cHBvcnRTcGVlY2hSZWNvZ25pdGlvbiA/IDxNaWNyb3Bob25lQnV0dG9uIGNsYXNzTmFtZT17bWljcm9waG9uZUJ1dHRvbkNsYXNzTmFtZX0gLz4gOiA8U2VuZEJ1dHRvbiAvPn1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbkJhc2ljU2VuZEJveC5kZWZhdWx0UHJvcHMgPSB7XG4gIGNsYXNzTmFtZTogJydcbn07XG5cbkJhc2ljU2VuZEJveC5wcm9wVHlwZXMgPSB7XG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQmFzaWNTZW5kQm94O1xuXG5leHBvcnQgeyB1c2VTZW5kQm94U3BlZWNoSW50ZXJpbXNWaXNpYmxlIH07XG4iXX0=