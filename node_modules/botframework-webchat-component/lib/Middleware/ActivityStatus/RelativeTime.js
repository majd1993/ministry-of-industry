"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _botframeworkWebchatApi = require("botframework-webchat-api");

var _propTypes = _interopRequireDefault(require("prop-types"));

var _react = _interopRequireDefault(require("react"));

var _ScreenReaderText = _interopRequireDefault(require("../../ScreenReaderText"));

var _useForceRenderAtInterval = _interopRequireDefault(require("../../hooks/internal/useForceRenderAtInterval"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var useDateFormatter = _botframeworkWebchatApi.hooks.useDateFormatter,
    useLocalizer = _botframeworkWebchatApi.hooks.useLocalizer,
    useRelativeTimeFormatter = _botframeworkWebchatApi.hooks.useRelativeTimeFormatter;
var TIMER_INTERVAL = 60000;

var RelativeTime = function RelativeTime(_ref) {
  var value = _ref.value;
  var formatDate = useDateFormatter();
  var formatRelativeTime = useRelativeTimeFormatter();
  var localize = useLocalizer();
  (0, _useForceRenderAtInterval.default)(value, TIMER_INTERVAL);
  return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(_ScreenReaderText.default, {
    text: localize('ACTIVITY_STATUS_SEND_STATUS_ALT_SENT_AT', formatDate(value))
  }), /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": true
  }, formatRelativeTime(value)));
};

RelativeTime.propTypes = {
  value: _propTypes.default.string.isRequired
};
var _default = RelativeTime;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9NaWRkbGV3YXJlL0FjdGl2aXR5U3RhdHVzL1JlbGF0aXZlVGltZS5qcyJdLCJuYW1lcyI6WyJ1c2VEYXRlRm9ybWF0dGVyIiwiaG9va3MiLCJ1c2VMb2NhbGl6ZXIiLCJ1c2VSZWxhdGl2ZVRpbWVGb3JtYXR0ZXIiLCJUSU1FUl9JTlRFUlZBTCIsIlJlbGF0aXZlVGltZSIsInZhbHVlIiwiZm9ybWF0RGF0ZSIsImZvcm1hdFJlbGF0aXZlVGltZSIsImxvY2FsaXplIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwic3RyaW5nIiwiaXNSZXF1aXJlZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUVBOztBQUNBOzs7O0lBRVFBLGdCLEdBQTZEQyw2QixDQUE3REQsZ0I7SUFBa0JFLFksR0FBMkNELDZCLENBQTNDQyxZO0lBQWNDLHdCLEdBQTZCRiw2QixDQUE3QkUsd0I7QUFFeEMsSUFBTUMsY0FBYyxHQUFHLEtBQXZCOztBQUVBLElBQU1DLFlBQVksR0FBRyxTQUFmQSxZQUFlLE9BQWU7QUFBQSxNQUFaQyxLQUFZLFFBQVpBLEtBQVk7QUFDbEMsTUFBTUMsVUFBVSxHQUFHUCxnQkFBZ0IsRUFBbkM7QUFDQSxNQUFNUSxrQkFBa0IsR0FBR0wsd0JBQXdCLEVBQW5EO0FBQ0EsTUFBTU0sUUFBUSxHQUFHUCxZQUFZLEVBQTdCO0FBRUEseUNBQXlCSSxLQUF6QixFQUFnQ0YsY0FBaEM7QUFFQSxzQkFDRSw2QkFBQyxjQUFELENBQU8sUUFBUCxxQkFDRSw2QkFBQyx5QkFBRDtBQUFrQixJQUFBLElBQUksRUFBRUssUUFBUSxDQUFDLHlDQUFELEVBQTRDRixVQUFVLENBQUNELEtBQUQsQ0FBdEQ7QUFBaEMsSUFERixlQUVFO0FBQU0sbUJBQWE7QUFBbkIsS0FBMEJFLGtCQUFrQixDQUFDRixLQUFELENBQTVDLENBRkYsQ0FERjtBQU1ELENBYkQ7O0FBZUFELFlBQVksQ0FBQ0ssU0FBYixHQUF5QjtBQUN2QkosRUFBQUEsS0FBSyxFQUFFSyxtQkFBVUMsTUFBVixDQUFpQkM7QUFERCxDQUF6QjtlQUllUixZIiwic291cmNlUm9vdCI6ImNvbXBvbmVudDovLy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBob29rcyB9IGZyb20gJ2JvdGZyYW1ld29yay13ZWJjaGF0LWFwaSc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IFNjcmVlblJlYWRlclRleHQgZnJvbSAnLi4vLi4vU2NyZWVuUmVhZGVyVGV4dCc7XG5pbXBvcnQgdXNlRm9yY2VSZW5kZXJBdEludGVydmFsIGZyb20gJy4uLy4uL2hvb2tzL2ludGVybmFsL3VzZUZvcmNlUmVuZGVyQXRJbnRlcnZhbCc7XG5cbmNvbnN0IHsgdXNlRGF0ZUZvcm1hdHRlciwgdXNlTG9jYWxpemVyLCB1c2VSZWxhdGl2ZVRpbWVGb3JtYXR0ZXIgfSA9IGhvb2tzO1xuXG5jb25zdCBUSU1FUl9JTlRFUlZBTCA9IDYwMDAwO1xuXG5jb25zdCBSZWxhdGl2ZVRpbWUgPSAoeyB2YWx1ZSB9KSA9PiB7XG4gIGNvbnN0IGZvcm1hdERhdGUgPSB1c2VEYXRlRm9ybWF0dGVyKCk7XG4gIGNvbnN0IGZvcm1hdFJlbGF0aXZlVGltZSA9IHVzZVJlbGF0aXZlVGltZUZvcm1hdHRlcigpO1xuICBjb25zdCBsb2NhbGl6ZSA9IHVzZUxvY2FsaXplcigpO1xuXG4gIHVzZUZvcmNlUmVuZGVyQXRJbnRlcnZhbCh2YWx1ZSwgVElNRVJfSU5URVJWQUwpO1xuXG4gIHJldHVybiAoXG4gICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgPFNjcmVlblJlYWRlclRleHQgdGV4dD17bG9jYWxpemUoJ0FDVElWSVRZX1NUQVRVU19TRU5EX1NUQVRVU19BTFRfU0VOVF9BVCcsIGZvcm1hdERhdGUodmFsdWUpKX0gLz5cbiAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPXt0cnVlfT57Zm9ybWF0UmVsYXRpdmVUaW1lKHZhbHVlKX08L3NwYW4+XG4gICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgKTtcbn07XG5cblJlbGF0aXZlVGltZS5wcm9wVHlwZXMgPSB7XG4gIHZhbHVlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWRcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJlbGF0aXZlVGltZTtcbiJdfQ==