{"ast":null,"code":"\"use strict\"; // Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Exports_1 = require(\"../common.speech/Exports\");\n\nvar Contracts_1 = require(\"./Contracts\");\n\nvar Exports_2 = require(\"./Exports\");\n/**\n * Output format\n * @class VoiceProfileEnrollmentResult\n */\n\n\nvar VoiceProfileEnrollmentResult =\n/** @class */\nfunction () {\n  function VoiceProfileEnrollmentResult(reason, json, statusText) {\n    this.privReason = reason;\n    this.privProperties = new Exports_2.PropertyCollection();\n\n    if (this.privReason !== Exports_2.ResultReason.Canceled) {\n      this.privDetails = JSON.parse(json);\n      Contracts_1.Contracts.throwIfNullOrUndefined(json, \"JSON\");\n\n      if (this.privDetails.enrollmentStatus.toLowerCase() === \"enrolling\") {\n        this.privReason = Exports_2.ResultReason.EnrollingVoiceProfile;\n      }\n    } else {\n      this.privErrorDetails = statusText;\n      this.privProperties.setProperty(Exports_1.CancellationErrorCodePropertyName, Exports_2.CancellationErrorCode[Exports_2.CancellationErrorCode.ServiceError]);\n    }\n  }\n\n  Object.defineProperty(VoiceProfileEnrollmentResult.prototype, \"reason\", {\n    get: function get() {\n      return this.privReason;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(VoiceProfileEnrollmentResult.prototype, \"enrollmentsCount\", {\n    get: function get() {\n      return this.privDetails.enrollmentsCount;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(VoiceProfileEnrollmentResult.prototype, \"enrollmentsLength\", {\n    get: function get() {\n      return this.privDetails.enrollmentsLength;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(VoiceProfileEnrollmentResult.prototype, \"properties\", {\n    get: function get() {\n      return this.privProperties;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(VoiceProfileEnrollmentResult.prototype, \"errorDetails\", {\n    get: function get() {\n      return this.privErrorDetails;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return VoiceProfileEnrollmentResult;\n}();\n\nexports.VoiceProfileEnrollmentResult = VoiceProfileEnrollmentResult;\n/**\n * @class VoiceProfileEnrollmentCancellationDetails\n */\n// tslint:disable-next-line:max-classes-per-file\n\nvar VoiceProfileEnrollmentCancellationDetails =\n/** @class */\nfunction (_super) {\n  __extends(VoiceProfileEnrollmentCancellationDetails, _super);\n\n  function VoiceProfileEnrollmentCancellationDetails(reason, errorDetails, errorCode) {\n    return _super.call(this, reason, errorDetails, errorCode) || this;\n  }\n  /**\n   * Creates an instance of VoiceProfileEnrollmentCancellationDetails object for the canceled VoiceProfileEnrollmentResult.\n   * @member VoiceProfileEnrollmentCancellationDetails.fromResult\n   * @function\n   * @public\n   * @param {VoiceProfileEnrollmentResult} result - The result that was canceled.\n   * @returns {VoiceProfileEnrollmentCancellationDetails} The cancellation details object being created.\n   */\n\n\n  VoiceProfileEnrollmentCancellationDetails.fromResult = function (result) {\n    var reason = Exports_2.CancellationReason.Error;\n    var errorCode = Exports_2.CancellationErrorCode.NoError;\n\n    if (!!result.properties) {\n      errorCode = Exports_2.CancellationErrorCode[result.properties.getProperty(Exports_1.CancellationErrorCodePropertyName, Exports_2.CancellationErrorCode[Exports_2.CancellationErrorCode.NoError])];\n    }\n\n    return new VoiceProfileEnrollmentCancellationDetails(reason, result.errorDetails, errorCode);\n  };\n\n  return VoiceProfileEnrollmentCancellationDetails;\n}(Exports_2.CancellationDetailsBase);\n\nexports.VoiceProfileEnrollmentCancellationDetails = VoiceProfileEnrollmentCancellationDetails;","map":{"version":3,"sources":["src/sdk/VoiceProfileEnrollmentResult.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license.\r\n\r\nimport { CancellationErrorCodePropertyName } from \"../common.speech/Exports\";\r\nimport { Contracts } from \"./Contracts\";\r\nimport {\r\n    CancellationDetailsBase,\r\n    CancellationErrorCode,\r\n    CancellationReason,\r\n    PropertyCollection,\r\n    PropertyId,\r\n    ResultReason,\r\n} from \"./Exports\";\r\n\r\nexport interface IEnrollmentResultDetails {\r\n    enrollmentsCount: number;\r\n    enrollmentsLength: number;\r\n    enrollmentsSpeechLength: number;\r\n    remainingEnrollmentsCount: number;\r\n    remainingEnrollmentsSpeechLength: number;\r\n    audioLength: number;\r\n    audioSpeechLength: number;\r\n    enrollmentStatus: string;\r\n}\r\n\r\n/**\r\n * Output format\r\n * @class VoiceProfileEnrollmentResult\r\n */\r\nexport class VoiceProfileEnrollmentResult {\r\n    private privReason: ResultReason;\r\n    private privDetails: IEnrollmentResultDetails;\r\n    private privProperties: PropertyCollection;\r\n    private privErrorDetails: string;\r\n\r\n    public constructor(reason: ResultReason, json: string, statusText: string) {\r\n        this.privReason = reason;\r\n        this.privProperties = new PropertyCollection();\r\n        if (this.privReason !== ResultReason.Canceled) {\r\n            this.privDetails = JSON.parse(json);\r\n            Contracts.throwIfNullOrUndefined(json, \"JSON\");\r\n            if (this.privDetails.enrollmentStatus.toLowerCase() === \"enrolling\") {\r\n                this.privReason = ResultReason.EnrollingVoiceProfile;\r\n            }\r\n        } else {\r\n            this.privErrorDetails = statusText;\r\n            this.privProperties.setProperty(CancellationErrorCodePropertyName, CancellationErrorCode[CancellationErrorCode.ServiceError]);\r\n        }\r\n    }\r\n\r\n    public get reason(): ResultReason {\r\n        return this.privReason;\r\n    }\r\n\r\n    public get enrollmentsCount(): number {\r\n        return this.privDetails.enrollmentsCount;\r\n    }\r\n\r\n    public get enrollmentsLength(): number {\r\n        return this.privDetails.enrollmentsLength;\r\n    }\r\n\r\n    public get properties(): PropertyCollection {\r\n        return this.privProperties;\r\n    }\r\n\r\n    public get errorDetails(): string {\r\n        return this.privErrorDetails;\r\n    }\r\n}\r\n\r\n/**\r\n * @class VoiceProfileEnrollmentCancellationDetails\r\n */\r\n// tslint:disable-next-line:max-classes-per-file\r\nexport class VoiceProfileEnrollmentCancellationDetails extends CancellationDetailsBase {\r\n\r\n    private constructor(reason: CancellationReason, errorDetails: string, errorCode: CancellationErrorCode) {\r\n        super(reason, errorDetails, errorCode);\r\n    }\r\n\r\n    /**\r\n     * Creates an instance of VoiceProfileEnrollmentCancellationDetails object for the canceled VoiceProfileEnrollmentResult.\r\n     * @member VoiceProfileEnrollmentCancellationDetails.fromResult\r\n     * @function\r\n     * @public\r\n     * @param {VoiceProfileEnrollmentResult} result - The result that was canceled.\r\n     * @returns {VoiceProfileEnrollmentCancellationDetails} The cancellation details object being created.\r\n     */\r\n    public static fromResult(result: VoiceProfileEnrollmentResult): VoiceProfileEnrollmentCancellationDetails {\r\n        const reason = CancellationReason.Error;\r\n        let errorCode: CancellationErrorCode = CancellationErrorCode.NoError;\r\n\r\n        if (!!result.properties) {\r\n            errorCode = (CancellationErrorCode as any)[result.properties.getProperty(CancellationErrorCodePropertyName, CancellationErrorCode[CancellationErrorCode.NoError])];\r\n        }\r\n\r\n        return new VoiceProfileEnrollmentCancellationDetails(reason, result.errorDetails, errorCode);\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"script"}