{"ast":null,"code":"\"use strict\"; // Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Timeout =\n/** @class */\nfunction () {\n  function Timeout() {}\n\n  Timeout.workerTimers = null;\n\n  Timeout.clearTimeout = function (timerId) {\n    return Timeout.timers().clearTimeout(timerId);\n  };\n\n  Timeout.setTimeout = function (func, delay) {\n    return Timeout.timers().setTimeout(func, delay);\n  };\n\n  Timeout.load = function (url) {\n    // Prefilling the Maps with a function indexed by zero is necessary to be compliant with the specification.\n    var scheduledTimeoutFunctions = new Map([[0, function () {}]]); // tslint:disable-line no-empty\n\n    var unhandledRequests = new Map();\n    var worker = new Worker(url);\n    worker.addEventListener(\"message\", function (_a) {\n      var data = _a.data;\n\n      if (Timeout.isCallNotification(data)) {\n        var timerId = data.params.timerId;\n        var idOrFunc = scheduledTimeoutFunctions.get(timerId);\n\n        if (typeof idOrFunc === \"number\") {\n          var unhandledTimerId = unhandledRequests.get(idOrFunc);\n\n          if (unhandledTimerId === undefined || unhandledTimerId !== timerId) {\n            throw new Error(\"The timer is in an undefined state.\");\n          }\n        } else if (typeof idOrFunc !== \"undefined\") {\n          idOrFunc(); // A timeout can be safely deleted because it is only called once.\n\n          scheduledTimeoutFunctions.delete(timerId);\n        } else {\n          throw new Error(\"The timer is in an undefined state.\");\n        }\n      } else if (Timeout.isClearResponse(data)) {\n        var id = data.id;\n        var unhandledTimerId = unhandledRequests.get(id);\n\n        if (unhandledTimerId === undefined) {\n          throw new Error(\"The timer is in an undefined state.\");\n        }\n\n        unhandledRequests.delete(id);\n        scheduledTimeoutFunctions.delete(unhandledTimerId);\n      } else {\n        var message = data.error.message;\n        throw new Error(message);\n      }\n    });\n\n    var clearTimeout = function clearTimeout(timerId) {\n      var id = Math.random();\n      unhandledRequests.set(id, timerId);\n      scheduledTimeoutFunctions.set(timerId, id);\n      worker.postMessage({\n        id: id,\n        method: \"clear\",\n        params: {\n          timerId: timerId\n        }\n      });\n    };\n\n    var setTimeout = function setTimeout(func, delay) {\n      var timerId = Math.random();\n      scheduledTimeoutFunctions.set(timerId, func);\n      worker.postMessage({\n        id: null,\n        method: \"set\",\n        params: {\n          delay: delay,\n          now: performance.now(),\n          timerId: timerId\n        }\n      });\n      return timerId;\n    };\n\n    return {\n      clearTimeout: clearTimeout,\n      setTimeout: setTimeout\n    };\n  };\n\n  Timeout.loadWorkerTimers = function () {\n    var worker = \"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\\\"undefined\\\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\\\"Module\\\"}),Object.defineProperty(e,\\\"__esModule\\\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\\\"object\\\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\\\"default\\\",{enumerable:!0,value:e}),2&t&&\\\"string\\\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\\\"a\\\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\\\"\\\",n(n.s=14)}([function(e,t,n){\\\"use strict\\\";n.d(t,\\\"a\\\",(function(){return i})),n.d(t,\\\"b\\\",(function(){return u})),n.d(t,\\\"c\\\",(function(){return a})),n.d(t,\\\"d\\\",(function(){return d}));const r=new Map,o=new Map,i=e=>{const t=r.get(e);if(void 0===t)throw new Error('There is no interval scheduled with the given id \\\"'.concat(e,'\\\".'));clearTimeout(t),r.delete(e)},u=e=>{const t=o.get(e);if(void 0===t)throw new Error('There is no timeout scheduled with the given id \\\"'.concat(e,'\\\".'));clearTimeout(t),o.delete(e)},f=(e,t)=>{let n,r;if(\\\"performance\\\"in self){const o=performance.now();n=o,r=e-Math.max(0,o-t)}else n=Date.now(),r=e;return{expected:n+r,remainingDelay:r}},c=(e,t,n,r)=>{const o=\\\"performance\\\"in self?performance.now():Date.now();o>n?postMessage({id:null,method:\\\"call\\\",params:{timerId:t}}):e.set(t,setTimeout(c,n-o,e,t,n))},a=(e,t,n)=>{const{expected:o,remainingDelay:i}=f(e,n);r.set(t,setTimeout(c,i,r,t,o))},d=(e,t,n)=>{const{expected:r,remainingDelay:i}=f(e,n);o.set(t,setTimeout(c,i,o,t,r))}},function(e,t,n){\\\"use strict\\\";n.r(t);var r=n(2);for(var o in r)\\\"default\\\"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(3);for(var o in i)\\\"default\\\"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(4);for(var o in u)\\\"default\\\"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o);var f=n(5);for(var o in f)\\\"default\\\"!==o&&function(e){n.d(t,e,(function(){return f[e]}))}(o);var c=n(6);for(var o in c)\\\"default\\\"!==o&&function(e){n.d(t,e,(function(){return c[e]}))}(o);var a=n(7);for(var o in a)\\\"default\\\"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);var d=n(8);for(var o in d)\\\"default\\\"!==o&&function(e){n.d(t,e,(function(){return d[e]}))}(o);var s=n(9);for(var o in s)\\\"default\\\"!==o&&function(e){n.d(t,e,(function(){return s[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){\\\"use strict\\\";n.r(t);var r=n(11);for(var o in r)\\\"default\\\"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(12);for(var o in i)\\\"default\\\"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(13);for(var o in u)\\\"default\\\"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){\\\"use strict\\\";n.r(t);var r=n(0),o=n(1);for(var i in o)\\\"default\\\"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var u=n(10);for(var i in u)\\\"default\\\"!==i&&function(e){n.d(t,e,(function(){return u[e]}))}(i);addEventListener(\\\"message\\\",({data:e})=>{try{if(\\\"clear\\\"===e.method){const{id:t,params:{timerId:n}}=e;Object(r.b)(n),postMessage({error:null,id:t})}else{if(\\\"set\\\"!==e.method)throw new Error('The given method \\\"'.concat(e.method,'\\\" is not supported'));{const{params:{delay:t,now:n,timerId:o}}=e;Object(r.d)(t,o,n)}}}catch(t){postMessage({error:{message:t.message},id:e.id,result:null})}})}]);\"; // tslint:disable-line:max-line-length\n\n    return function () {\n      if (Timeout.workerTimers !== null) {\n        return Timeout.workerTimers;\n      }\n\n      var blob = new Blob([worker], {\n        type: \"application/javascript; charset=utf-8\"\n      });\n      var url = URL.createObjectURL(blob);\n      Timeout.workerTimers = Timeout.load(url); // Edge doesn't like the URL to be revoked directly.\n\n      Timeout.workerTimers.setTimeout(function () {\n        return URL.revokeObjectURL(url);\n      }, 0);\n      return Timeout.workerTimers;\n    };\n  };\n\n  Timeout.timers = Timeout.loadWorkerTimers();\n\n  Timeout.isCallNotification = function (message) {\n    return message.method !== undefined && message.method === \"call\";\n  };\n\n  Timeout.isClearResponse = function (message) {\n    return message.error === null && typeof message.id === \"number\";\n  };\n\n  return Timeout;\n}();\n\nexports.Timeout = Timeout;","map":{"version":3,"sources":["src/common/Timeout.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license.\r\n\r\ntype TWorkerMessage = ICallNotification | IClearResponse | IErrorNotification | IErrorResponse;\r\n\r\ninterface IClearResponse {\r\n    error: null;\r\n    id: number;\r\n}\r\n\r\ninterface IErrorNotification {\r\n    error: {\r\n        message: string;\r\n    };\r\n    id: null;\r\n    result: null;\r\n}\r\n\r\ninterface IErrorResponse {\r\n    error: {\r\n        message: string;\r\n    };\r\n    id: number;\r\n    result: null;\r\n}\r\n\r\ninterface ICallNotification {\r\n    id: null;\r\n    method: \"call\";\r\n    params: {\r\n        timerId: number;\r\n    };\r\n}\r\n\r\ninterface ISetNotification {\r\n    id: null;\r\n    method: \"set\";\r\n    params: {\r\n        delay: number;\r\n        now: number;\r\n        timerId: number;\r\n    };\r\n}\r\n\r\ninterface IClearRequest {\r\n    id: number;\r\n    method: \"clear\";\r\n    params: {\r\n        timerId: number;\r\n    };\r\n}\r\n\r\ninterface IWorkerEvent extends Event {\r\n    data: TWorkerMessage;\r\n}\r\n\r\ninterface IWorkerTimers {\r\n    clearTimeout: (timerId: number) => void;\r\n    setTimeout: (func: () => any, delay: number) => number;\r\n}\r\n\r\ndeclare type Func = () => any;\r\n\r\nexport class Timeout {\r\n\r\n    private static workerTimers: null | IWorkerTimers = null;\r\n\r\n    public static clearTimeout: IWorkerTimers[\"clearTimeout\"] = (timerId) => Timeout.timers().clearTimeout(timerId);\r\n\r\n    public static setTimeout: IWorkerTimers[\"setTimeout\"] = (func, delay) => Timeout.timers().setTimeout(func, delay);\r\n\r\n    public static load = (url: string) => {\r\n        // Prefilling the Maps with a function indexed by zero is necessary to be compliant with the specification.\r\n        const scheduledTimeoutFunctions: Map<number, number | Func> = new Map([[0, () => { }]]); // tslint:disable-line no-empty\r\n        const unhandledRequests: Map<number, number> = new Map();\r\n\r\n        const worker = new Worker(url);\r\n\r\n        worker.addEventListener(\"message\", ({ data }: IWorkerEvent) => {\r\n            if (Timeout.isCallNotification(data)) {\r\n                const {\r\n                    params: { timerId }\r\n                } = data;\r\n\r\n                const idOrFunc = scheduledTimeoutFunctions.get(timerId);\r\n\r\n                if (typeof idOrFunc === \"number\") {\r\n                    const unhandledTimerId = unhandledRequests.get(idOrFunc);\r\n\r\n                    if (\r\n                        unhandledTimerId === undefined ||\r\n                        unhandledTimerId !== timerId\r\n                    ) {\r\n                        throw new Error(\"The timer is in an undefined state.\");\r\n                    }\r\n                } else if (typeof idOrFunc !== \"undefined\") {\r\n                    idOrFunc();\r\n\r\n                    // A timeout can be safely deleted because it is only called once.\r\n                    scheduledTimeoutFunctions.delete(timerId);\r\n                } else {\r\n                    throw new Error(\"The timer is in an undefined state.\");\r\n                }\r\n            } else if (Timeout.isClearResponse(data)) {\r\n                const { id } = data;\r\n\r\n                const unhandledTimerId = unhandledRequests.get(id);\r\n\r\n                if (unhandledTimerId === undefined) {\r\n                    throw new Error(\"The timer is in an undefined state.\");\r\n                }\r\n\r\n                unhandledRequests.delete(id);\r\n\r\n                scheduledTimeoutFunctions.delete(unhandledTimerId);\r\n            } else {\r\n                const {\r\n                    error: { message }\r\n                } = data;\r\n\r\n                throw new Error(message);\r\n            }\r\n        });\r\n\r\n        const clearTimeout = (timerId: number) => {\r\n            const id = Math.random();\r\n\r\n            unhandledRequests.set(id, timerId);\r\n            scheduledTimeoutFunctions.set(timerId, id);\r\n\r\n            worker.postMessage({\r\n                id,\r\n                method: \"clear\",\r\n                params: { timerId }\r\n            } as IClearRequest);\r\n        };\r\n\r\n        const setTimeout = (func: () => void, delay: number) => {\r\n            const timerId = Math.random();\r\n\r\n            scheduledTimeoutFunctions.set(timerId, func);\r\n\r\n            worker.postMessage({\r\n                id: null,\r\n                method: \"set\",\r\n                params: {\r\n                    delay,\r\n                    now: performance.now(),\r\n                    timerId\r\n                }\r\n            } as ISetNotification);\r\n\r\n            return timerId;\r\n        };\r\n\r\n        return {\r\n            clearTimeout,\r\n            setTimeout\r\n        };\r\n    }\r\n\r\n    private static loadWorkerTimers = () => {\r\n        const worker = `!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=14)}([function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i})),n.d(t,\"b\",(function(){return u})),n.d(t,\"c\",(function(){return a})),n.d(t,\"d\",(function(){return d}));const r=new Map,o=new Map,i=e=>{const t=r.get(e);if(void 0===t)throw new Error('There is no interval scheduled with the given id \"'.concat(e,'\".'));clearTimeout(t),r.delete(e)},u=e=>{const t=o.get(e);if(void 0===t)throw new Error('There is no timeout scheduled with the given id \"'.concat(e,'\".'));clearTimeout(t),o.delete(e)},f=(e,t)=>{let n,r;if(\"performance\"in self){const o=performance.now();n=o,r=e-Math.max(0,o-t)}else n=Date.now(),r=e;return{expected:n+r,remainingDelay:r}},c=(e,t,n,r)=>{const o=\"performance\"in self?performance.now():Date.now();o>n?postMessage({id:null,method:\"call\",params:{timerId:t}}):e.set(t,setTimeout(c,n-o,e,t,n))},a=(e,t,n)=>{const{expected:o,remainingDelay:i}=f(e,n);r.set(t,setTimeout(c,i,r,t,o))},d=(e,t,n)=>{const{expected:r,remainingDelay:i}=f(e,n);o.set(t,setTimeout(c,i,o,t,r))}},function(e,t,n){\"use strict\";n.r(t);var r=n(2);for(var o in r)\"default\"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(3);for(var o in i)\"default\"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(4);for(var o in u)\"default\"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o);var f=n(5);for(var o in f)\"default\"!==o&&function(e){n.d(t,e,(function(){return f[e]}))}(o);var c=n(6);for(var o in c)\"default\"!==o&&function(e){n.d(t,e,(function(){return c[e]}))}(o);var a=n(7);for(var o in a)\"default\"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);var d=n(8);for(var o in d)\"default\"!==o&&function(e){n.d(t,e,(function(){return d[e]}))}(o);var s=n(9);for(var o in s)\"default\"!==o&&function(e){n.d(t,e,(function(){return s[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){\"use strict\";n.r(t);var r=n(11);for(var o in r)\"default\"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(12);for(var o in i)\"default\"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(13);for(var o in u)\"default\"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){\"use strict\";n.r(t);var r=n(0),o=n(1);for(var i in o)\"default\"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var u=n(10);for(var i in u)\"default\"!==i&&function(e){n.d(t,e,(function(){return u[e]}))}(i);addEventListener(\"message\",({data:e})=>{try{if(\"clear\"===e.method){const{id:t,params:{timerId:n}}=e;Object(r.b)(n),postMessage({error:null,id:t})}else{if(\"set\"!==e.method)throw new Error('The given method \"'.concat(e.method,'\" is not supported'));{const{params:{delay:t,now:n,timerId:o}}=e;Object(r.d)(t,o,n)}}}catch(t){postMessage({error:{message:t.message},id:e.id,result:null})}})}]);`; // tslint:disable-line:max-line-length\r\n        return () => {\r\n            if (Timeout.workerTimers !== null) {\r\n                return Timeout.workerTimers;\r\n            }\r\n\r\n            const blob = new Blob([worker], { type: \"application/javascript; charset=utf-8\" });\r\n            const url = URL.createObjectURL(blob);\r\n\r\n            Timeout.workerTimers = Timeout.load(url);\r\n\r\n            // Edge doesn't like the URL to be revoked directly.\r\n            Timeout.workerTimers.setTimeout(() => URL.revokeObjectURL(url), 0);\r\n\r\n            return Timeout.workerTimers as IWorkerTimers;\r\n        };\r\n    }\r\n\r\n    public static timers: () => IWorkerTimers = Timeout.loadWorkerTimers();\r\n\r\n    private static isCallNotification = (message: TWorkerMessage): message is ICallNotification => {\r\n        return (message as ICallNotification).method !== undefined && (message as ICallNotification).method === \"call\";\r\n    }\r\n\r\n    private static isClearResponse = (message: TWorkerMessage): message is IClearResponse => {\r\n        return (message as IClearResponse).error === null && typeof message.id === \"number\";\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"script"}