{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.connectCarouselFilmStrip = exports.default = void 0;\n\nvar _botframeworkWebchatApi = require(\"botframework-webchat-api\");\n\nvar _reactFilm = require(\"react-film\");\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _Bubble = _interopRequireDefault(require(\"./Bubble\"));\n\nvar _connectToWebChat = _interopRequireDefault(require(\"../connectToWebChat\"));\n\nvar _isZeroOrPositive = _interopRequireDefault(require(\"../Utils/isZeroOrPositive\"));\n\nvar _ScreenReaderText = _interopRequireDefault(require(\"../ScreenReaderText\"));\n\nvar _textFormatToContentType = _interopRequireDefault(require(\"../Utils/textFormatToContentType\"));\n\nvar _useStyleSet3 = _interopRequireDefault(require(\"../hooks/useStyleSet\"));\n\nvar _useStyleToEmotionObject = _interopRequireDefault(require(\"../hooks/internal/useStyleToEmotionObject\"));\n\nvar _useUniqueId = _interopRequireDefault(require(\"../hooks/internal/useUniqueId\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar useAvatarForBot = _botframeworkWebchatApi.hooks.useAvatarForBot,\n    useAvatarForUser = _botframeworkWebchatApi.hooks.useAvatarForUser,\n    useDirection = _botframeworkWebchatApi.hooks.useDirection,\n    useLocalizer = _botframeworkWebchatApi.hooks.useLocalizer,\n    useStyleOptions = _botframeworkWebchatApi.hooks.useStyleOptions;\nvar ROOT_STYLE = {\n  '&.webchat__carousel-filmstrip': {\n    display: 'flex',\n    flexDirection: 'column',\n    MsOverflowStyle: 'none',\n    overflowX: 'scroll',\n    overflowY: 'hidden',\n    position: 'relative',\n    // This is to keep screen reader text in the destinated area.\n    touchAction: 'manipulation',\n    WebkitOverflowScrolling: 'touch',\n    '&::-webkit-scrollbar': {\n      display: 'none'\n    },\n    '& .webchat__carousel-filmstrip__alignment-pad': {\n      flexShrink: 0\n    },\n    '& .webchat__carousel-filmstrip__attachment': {\n      flex: 1\n    },\n    '& .webchat__carousel-filmstrip__attachments': {\n      display: 'flex',\n      listStyleType: 'none',\n      margin: 0,\n      padding: 0\n    },\n    '& .webchat__carousel-filmstrip__avatar': {\n      flexShrink: 0\n    },\n    '& .webchat__carousel-filmstrip__avatar-gutter': {\n      display: 'flex',\n      flexDirection: 'column',\n      flexShrink: 0\n    },\n    '& .webchat__carousel-filmstrip__complimentary': {\n      display: 'flex'\n    },\n    '& .webchat__carousel-filmstrip__complimentary-content': {\n      display: 'flex',\n      flexGrow: 1,\n      flexDirection: 'column'\n    },\n    '& .webchat__carousel-filmstrip__content': {\n      display: 'flex',\n      flexGrow: 1,\n      flexDirection: 'column'\n    },\n    '& .webchat__carousel-filmstrip__filler': {\n      flexGrow: 10000,\n      flexShrink: 1\n    },\n    '& .webchat__carousel-filmstrip__main': {\n      display: 'flex'\n    },\n    '& .webchat__carousel-filmstrip__message': {\n      display: 'flex'\n    },\n    '& .webchat__carousel-filmstrip__nub-pad': {\n      flexShrink: 0\n    },\n    '& .webchat__carousel-filmstrip__status': {\n      display: 'flex'\n    }\n  }\n};\n\nvar connectCarouselFilmStrip = function connectCarouselFilmStrip() {\n  for (var _len = arguments.length, selectors = new Array(_len), _key = 0; _key < _len; _key++) {\n    selectors[_key] = arguments[_key];\n  }\n\n  return _connectToWebChat.default.apply(void 0, [function (_ref, _ref2) {\n    var language = _ref.language,\n        _ref$styleSet$options = _ref.styleSet.options,\n        botAvatarInitials = _ref$styleSet$options.botAvatarInitials,\n        userAvatarInitials = _ref$styleSet$options.userAvatarInitials;\n    var _ref2$activity = _ref2.activity;\n    _ref2$activity = _ref2$activity === void 0 ? {} : _ref2$activity;\n    var _ref2$activity$from = _ref2$activity.from;\n    _ref2$activity$from = _ref2$activity$from === void 0 ? {} : _ref2$activity$from;\n    var role = _ref2$activity$from.role;\n    return {\n      avatarInitials: role === 'user' ? userAvatarInitials : botAvatarInitials,\n      language: language\n    };\n  }].concat(selectors));\n};\n\nexports.connectCarouselFilmStrip = connectCarouselFilmStrip;\n\nvar CarouselFilmStrip = function CarouselFilmStrip(_ref3) {\n  var activity = _ref3.activity,\n      className = _ref3.className,\n      hideTimestamp = _ref3.hideTimestamp,\n      renderActivityStatus = _ref3.renderActivityStatus,\n      renderAttachment = _ref3.renderAttachment,\n      renderAvatar = _ref3.renderAvatar,\n      showCallout = _ref3.showCallout;\n\n  var _useStyleOptions = useStyleOptions(),\n      _useStyleOptions2 = _slicedToArray(_useStyleOptions, 1),\n      _useStyleOptions2$ = _useStyleOptions2[0],\n      bubbleNubOffset = _useStyleOptions2$.bubbleNubOffset,\n      bubbleNubSize = _useStyleOptions2$.bubbleNubSize,\n      bubbleFromUserNubOffset = _useStyleOptions2$.bubbleFromUserNubOffset,\n      bubbleFromUserNubSize = _useStyleOptions2$.bubbleFromUserNubSize;\n\n  var _useStyleSet = (0, _useStyleSet3.default)(),\n      _useStyleSet2 = _slicedToArray(_useStyleSet, 1),\n      carouselFilmStripStyleSet = _useStyleSet2[0].carouselFilmStrip;\n\n  var _useAvatarForBot = useAvatarForBot(),\n      _useAvatarForBot2 = _slicedToArray(_useAvatarForBot, 1),\n      botInitials = _useAvatarForBot2[0].initials;\n\n  var _useAvatarForUser = useAvatarForUser(),\n      _useAvatarForUser2 = _slicedToArray(_useAvatarForUser, 1),\n      userInitials = _useAvatarForUser2[0].initials;\n\n  var _useDirection = useDirection(),\n      _useDirection2 = _slicedToArray(_useDirection, 1),\n      direction = _useDirection2[0];\n\n  var ariaLabelId = (0, _useUniqueId.default)('webchat__carousel-filmstrip__id');\n  var localize = useLocalizer();\n  var rootClassName = (0, _useStyleToEmotionObject.default)()(ROOT_STYLE) + '';\n  var showActivityStatus = typeof renderActivityStatus === 'function';\n  var itemContainerCallbackRef = (0, _reactFilm.useItemContainerCallbackRef)();\n  var scrollableCallbackRef = (0, _reactFilm.useScrollableCallbackRef)();\n  var _activity$attachments = activity.attachments,\n      attachments = _activity$attachments === void 0 ? [] : _activity$attachments,\n      _activity$channelData = activity.channelData;\n  _activity$channelData = _activity$channelData === void 0 ? {} : _activity$channelData;\n  var _activity$channelData2 = _activity$channelData.messageBack;\n  _activity$channelData2 = _activity$channelData2 === void 0 ? {} : _activity$channelData2;\n  var messageBackDisplayText = _activity$channelData2.displayText,\n      _activity$from = activity.from;\n  _activity$from = _activity$from === void 0 ? {} : _activity$from;\n  var role = _activity$from.role,\n      text = activity.text,\n      textFormat = activity.textFormat;\n  var activityDisplayText = messageBackDisplayText || text;\n  var fromUser = role === 'user';\n  var attachedAlt = localize(fromUser ? 'ACTIVITY_YOU_ATTACHED_ALT' : 'ACTIVITY_BOT_ATTACHED_ALT');\n  var greetingAlt = (fromUser ? localize('ACTIVITY_YOU_SAID_ALT') : localize('ACTIVITY_BOT_SAID_ALT', botInitials || '')).replace(/[\\t-\\r \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF]{2,}/g, ' ');\n  var initials = fromUser ? userInitials : botInitials;\n  var nubOffset = fromUser ? bubbleFromUserNubOffset : bubbleNubOffset;\n  var nubSize = fromUser ? bubbleFromUserNubSize : bubbleNubSize;\n  var otherInitials = fromUser ? botInitials : userInitials;\n  var otherNubSize = fromUser ? bubbleNubSize : bubbleFromUserNubSize;\n  var hasAvatar = initials || typeof initials === 'string';\n  var hasOtherAvatar = otherInitials || typeof otherInitials === 'string';\n  var hasNub = typeof nubSize === 'number';\n  var hasOtherNub = typeof otherNubSize === 'number';\n  var topAlignedCallout = (0, _isZeroOrPositive.default)(nubOffset);\n  var extraTrailing = !hasOtherAvatar && hasOtherNub; // This is for bot message with user nub and no user avatar. And vice versa.\n\n  var showAvatar = showCallout && hasAvatar && !!renderAvatar;\n  var showNub = showCallout && hasNub && (topAlignedCallout || !attachments.length);\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    \"aria-labelledby\": ariaLabelId,\n    className: (0, _classnames.default)('webchat__carousel-filmstrip', {\n      'webchat__carousel-filmstrip--extra-trailing': extraTrailing,\n      'webchat__carousel-filmstrip--hide-avatar': hasAvatar && !showAvatar,\n      'webchat__carousel-filmstrip--hide-nub': hasNub && !showNub,\n      'webchat__carousel-filmstrip--no-message': !activityDisplayText,\n      'webchat__carousel-filmstrip--rtl': direction === 'rtl',\n      'webchat__carousel-filmstrip--show-avatar': showAvatar,\n      'webchat__carousel-filmstrip--show-nub': showNub,\n      'webchat__carousel-filmstrip--top-callout': topAlignedCallout\n    }, 'react-film__filmstrip', rootClassName, carouselFilmStripStyleSet + '', (className || '') + ''),\n    ref: scrollableCallbackRef,\n    role: \"group\"\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"webchat__carousel-filmstrip__main\"\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"webchat__carousel-filmstrip__avatar-gutter\"\n  }, showAvatar && renderAvatar({\n    activity: activity\n  })), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"webchat__carousel-filmstrip__content\"\n  }, !!activityDisplayText &&\n  /*#__PURE__*/\n  // Disable \"Prop `id` is forbidden on DOM Nodes\" rule because we are using the ID prop for accessibility.\n\n  /* eslint-disable-next-line react/forbid-dom-props */\n  _react.default.createElement(\"div\", {\n    \"aria-roledescription\": \"message\",\n    className: \"webchat__carousel-filmstrip__message\",\n    id: ariaLabelId\n  }, /*#__PURE__*/_react.default.createElement(_ScreenReaderText.default, {\n    text: greetingAlt\n  }), /*#__PURE__*/_react.default.createElement(_Bubble.default, {\n    className: \"webchat__carousel-filmstrip__bubble\",\n    fromUser: fromUser,\n    nub: showNub || (hasAvatar || hasNub) && 'hidden'\n  }, renderAttachment({\n    activity: activity,\n    attachment: {\n      content: activityDisplayText,\n      contentType: (0, _textFormatToContentType.default)(textFormat)\n    }\n  })), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"webchat__carousel-filmstrip__filler\"\n  })), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"webchat__carousel-filmstrip__complimentary\"\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"webchat__carousel-filmstrip__nub-pad\"\n  }), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"webchat__carousel-filmstrip__complimentary-content c\"\n  }, /*#__PURE__*/_react.default.createElement(\"ul\", {\n    className: \"webchat__carousel-filmstrip__attachments react-film__filmstrip__list\",\n    ref: itemContainerCallbackRef\n  }, attachments.map(function (attachment, index) {\n    return /*#__PURE__*/_react.default.createElement(\"li\", {\n      \"aria-roledescription\": \"attachment\",\n      className: \"webchat__carousel-filmstrip__attachment react-film__filmstrip__item\"\n      /* Attachments do not have an ID, it is always indexed by number */\n\n      /* eslint-disable-next-line react/no-array-index-key */\n      ,\n      key: index,\n      role: \"group\"\n    }, /*#__PURE__*/_react.default.createElement(_ScreenReaderText.default, {\n      text: attachedAlt\n    }), /*#__PURE__*/_react.default.createElement(_Bubble.default, {\n      fromUser: fromUser,\n      key: index,\n      nub: false\n    }, renderAttachment({\n      activity: activity,\n      attachment: attachment\n    })));\n  }))))), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"webchat__carousel-filmstrip__alignment-pad\"\n  })), showActivityStatus && /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"webchat__carousel-filmstrip__status\"\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"webchat__carousel-filmstrip__avatar-gutter\"\n  }), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"webchat__carousel-filmstrip__nub-pad\"\n  }), renderActivityStatus({\n    hideTimestamp: hideTimestamp\n  })));\n};\n\nCarouselFilmStrip.defaultProps = {\n  className: '',\n  hideTimestamp: false,\n  renderActivityStatus: false,\n  renderAvatar: false,\n  showCallout: false\n};\nCarouselFilmStrip.propTypes = {\n  activity: _propTypes.default.shape({\n    attachments: _propTypes.default.array,\n    channelData: _propTypes.default.shape({\n      messageBack: _propTypes.default.shape({\n        displayText: _propTypes.default.string\n      }),\n      state: _propTypes.default.string\n    }),\n    from: _propTypes.default.shape({\n      role: _propTypes.default.string.isRequired\n    }).isRequired,\n    text: _propTypes.default.string,\n    textFormat: _propTypes.default.string,\n    timestamp: _propTypes.default.string\n  }).isRequired,\n  className: _propTypes.default.string,\n  hideTimestamp: _propTypes.default.bool,\n  renderActivityStatus: _propTypes.default.oneOfType([_propTypes.default.oneOf([false]), _propTypes.default.func]),\n  renderAttachment: _propTypes.default.func.isRequired,\n  renderAvatar: _propTypes.default.oneOfType([_propTypes.default.oneOf([false]), _propTypes.default.func]),\n  showCallout: _propTypes.default.bool\n};\nvar _default = CarouselFilmStrip;\nexports.default = _default;","map":{"version":3,"sources":["../../src/Activity/CarouselFilmStrip.js"],"names":["useAvatarForBot","useAvatarForUser","useDirection","useLocalizer","useStyleOptions","hooks","ROOT_STYLE","display","flexDirection","MsOverflowStyle","overflowX","overflowY","position","touchAction","WebkitOverflowScrolling","flexShrink","flex","listStyleType","margin","padding","flexGrow","connectCarouselFilmStrip","selectors","language","botAvatarInitials","userAvatarInitials","role","avatarInitials","CarouselFilmStrip","activity","className","hideTimestamp","renderActivityStatus","renderAttachment","renderAvatar","showCallout","bubbleNubOffset","bubbleNubSize","bubbleFromUserNubOffset","bubbleFromUserNubSize","carouselFilmStripStyleSet","botInitials","userInitials","direction","ariaLabelId","localize","rootClassName","showActivityStatus","itemContainerCallbackRef","scrollableCallbackRef","attachments","messageBackDisplayText","text","textFormat","activityDisplayText","fromUser","attachedAlt","greetingAlt","initials","nubOffset","nubSize","otherInitials","otherNubSize","hasAvatar","hasOtherAvatar","hasNub","hasOtherNub","topAlignedCallout","extraTrailing","showAvatar","showNub","attachment","content","contentType","PropTypes","channelData","messageBack","displayText","string","state","from","isRequired","timestamp","bool"],"mappings":"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","sourcesContent":["/* eslint complexity: [\"error\", 30] */\n\nimport { hooks } from 'botframework-webchat-api';\nimport { useItemContainerCallbackRef, useScrollableCallbackRef } from 'react-film';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Bubble from './Bubble';\nimport connectToWebChat from '../connectToWebChat';\nimport isZeroOrPositive from '../Utils/isZeroOrPositive';\nimport ScreenReaderText from '../ScreenReaderText';\nimport textFormatToContentType from '../Utils/textFormatToContentType';\nimport useStyleSet from '../hooks/useStyleSet';\nimport useStyleToEmotionObject from '../hooks/internal/useStyleToEmotionObject';\nimport useUniqueId from '../hooks/internal/useUniqueId';\n\nconst { useAvatarForBot, useAvatarForUser, useDirection, useLocalizer, useStyleOptions } = hooks;\n\nconst ROOT_STYLE = {\n  '&.webchat__carousel-filmstrip': {\n    display: 'flex',\n    flexDirection: 'column',\n    MsOverflowStyle: 'none',\n    overflowX: 'scroll',\n    overflowY: 'hidden',\n    position: 'relative', // This is to keep screen reader text in the destinated area.\n    touchAction: 'manipulation',\n    WebkitOverflowScrolling: 'touch',\n\n    '&::-webkit-scrollbar': {\n      display: 'none'\n    },\n\n    '& .webchat__carousel-filmstrip__alignment-pad': {\n      flexShrink: 0\n    },\n\n    '& .webchat__carousel-filmstrip__attachment': {\n      flex: 1\n    },\n\n    '& .webchat__carousel-filmstrip__attachments': {\n      display: 'flex',\n      listStyleType: 'none',\n      margin: 0,\n      padding: 0\n    },\n\n    '& .webchat__carousel-filmstrip__avatar': {\n      flexShrink: 0\n    },\n\n    '& .webchat__carousel-filmstrip__avatar-gutter': {\n      display: 'flex',\n      flexDirection: 'column',\n      flexShrink: 0\n    },\n\n    '& .webchat__carousel-filmstrip__complimentary': {\n      display: 'flex'\n    },\n\n    '& .webchat__carousel-filmstrip__complimentary-content': {\n      display: 'flex',\n      flexGrow: 1,\n      flexDirection: 'column'\n    },\n\n    '& .webchat__carousel-filmstrip__content': {\n      display: 'flex',\n      flexGrow: 1,\n      flexDirection: 'column'\n    },\n\n    '& .webchat__carousel-filmstrip__filler': {\n      flexGrow: 10000,\n      flexShrink: 1\n    },\n\n    '& .webchat__carousel-filmstrip__main': {\n      display: 'flex'\n    },\n\n    '& .webchat__carousel-filmstrip__message': {\n      display: 'flex'\n    },\n\n    '& .webchat__carousel-filmstrip__nub-pad': {\n      flexShrink: 0\n    },\n\n    '& .webchat__carousel-filmstrip__status': {\n      display: 'flex'\n    }\n  }\n};\n\nconst connectCarouselFilmStrip = (...selectors) =>\n  connectToWebChat(\n    (\n      {\n        language,\n        styleSet: {\n          options: { botAvatarInitials, userAvatarInitials }\n        }\n      },\n      { activity: { from: { role } = {} } = {} }\n    ) => ({\n      avatarInitials: role === 'user' ? userAvatarInitials : botAvatarInitials,\n      language\n    }),\n    ...selectors\n  );\n\nconst CarouselFilmStrip = ({\n  activity,\n  className,\n  hideTimestamp,\n  renderActivityStatus,\n  renderAttachment,\n  renderAvatar,\n  showCallout\n}) => {\n  const [{ bubbleNubOffset, bubbleNubSize, bubbleFromUserNubOffset, bubbleFromUserNubSize }] = useStyleOptions();\n  const [{ carouselFilmStrip: carouselFilmStripStyleSet }] = useStyleSet();\n  const [{ initials: botInitials }] = useAvatarForBot();\n  const [{ initials: userInitials }] = useAvatarForUser();\n  const [direction] = useDirection();\n  const ariaLabelId = useUniqueId('webchat__carousel-filmstrip__id');\n  const localize = useLocalizer();\n  const rootClassName = useStyleToEmotionObject()(ROOT_STYLE) + '';\n  const showActivityStatus = typeof renderActivityStatus === 'function';\n\n  const itemContainerCallbackRef = useItemContainerCallbackRef();\n  const scrollableCallbackRef = useScrollableCallbackRef();\n\n  const {\n    attachments = [],\n    channelData: { messageBack: { displayText: messageBackDisplayText } = {} } = {},\n    from: { role } = {},\n    text,\n    textFormat\n  } = activity;\n\n  const activityDisplayText = messageBackDisplayText || text;\n  const fromUser = role === 'user';\n\n  const attachedAlt = localize(fromUser ? 'ACTIVITY_YOU_ATTACHED_ALT' : 'ACTIVITY_BOT_ATTACHED_ALT');\n  const greetingAlt = (fromUser\n    ? localize('ACTIVITY_YOU_SAID_ALT')\n    : localize('ACTIVITY_BOT_SAID_ALT', botInitials || '')\n  ).replace(/\\s{2,}/gu, ' ');\n\n  const initials = fromUser ? userInitials : botInitials;\n  const nubOffset = fromUser ? bubbleFromUserNubOffset : bubbleNubOffset;\n  const nubSize = fromUser ? bubbleFromUserNubSize : bubbleNubSize;\n  const otherInitials = fromUser ? botInitials : userInitials;\n  const otherNubSize = fromUser ? bubbleNubSize : bubbleFromUserNubSize;\n\n  const hasAvatar = initials || typeof initials === 'string';\n  const hasOtherAvatar = otherInitials || typeof otherInitials === 'string';\n  const hasNub = typeof nubSize === 'number';\n  const hasOtherNub = typeof otherNubSize === 'number';\n  const topAlignedCallout = isZeroOrPositive(nubOffset);\n\n  const extraTrailing = !hasOtherAvatar && hasOtherNub; // This is for bot message with user nub and no user avatar. And vice versa.\n\n  const showAvatar = showCallout && hasAvatar && !!renderAvatar;\n  const showNub = showCallout && hasNub && (topAlignedCallout || !attachments.length);\n\n  return (\n    <div\n      aria-labelledby={ariaLabelId}\n      className={classNames(\n        'webchat__carousel-filmstrip',\n        {\n          'webchat__carousel-filmstrip--extra-trailing': extraTrailing,\n          'webchat__carousel-filmstrip--hide-avatar': hasAvatar && !showAvatar,\n          'webchat__carousel-filmstrip--hide-nub': hasNub && !showNub,\n          'webchat__carousel-filmstrip--no-message': !activityDisplayText,\n          'webchat__carousel-filmstrip--rtl': direction === 'rtl',\n          'webchat__carousel-filmstrip--show-avatar': showAvatar,\n          'webchat__carousel-filmstrip--show-nub': showNub,\n          'webchat__carousel-filmstrip--top-callout': topAlignedCallout\n        },\n        'react-film__filmstrip',\n        rootClassName,\n        carouselFilmStripStyleSet + '',\n        (className || '') + ''\n      )}\n      ref={scrollableCallbackRef}\n      role=\"group\"\n    >\n      <div className=\"webchat__carousel-filmstrip__main\">\n        <div className=\"webchat__carousel-filmstrip__avatar-gutter\">{showAvatar && renderAvatar({ activity })}</div>\n        <div className=\"webchat__carousel-filmstrip__content\">\n          {!!activityDisplayText && (\n            // Disable \"Prop `id` is forbidden on DOM Nodes\" rule because we are using the ID prop for accessibility.\n            /* eslint-disable-next-line react/forbid-dom-props */\n            <div aria-roledescription=\"message\" className=\"webchat__carousel-filmstrip__message\" id={ariaLabelId}>\n              <ScreenReaderText text={greetingAlt} />\n              <Bubble\n                className=\"webchat__carousel-filmstrip__bubble\"\n                fromUser={fromUser}\n                nub={showNub || ((hasAvatar || hasNub) && 'hidden')}\n              >\n                {renderAttachment({\n                  activity,\n                  attachment: {\n                    content: activityDisplayText,\n                    contentType: textFormatToContentType(textFormat)\n                  }\n                })}\n              </Bubble>\n              <div className=\"webchat__carousel-filmstrip__filler\" />\n            </div>\n          )}\n          <div className=\"webchat__carousel-filmstrip__complimentary\">\n            <div className=\"webchat__carousel-filmstrip__nub-pad\" />\n            <div className=\"webchat__carousel-filmstrip__complimentary-content c\">\n              <ul\n                className=\"webchat__carousel-filmstrip__attachments react-film__filmstrip__list\"\n                ref={itemContainerCallbackRef}\n              >\n                {attachments.map((attachment, index) => (\n                  <li\n                    aria-roledescription=\"attachment\"\n                    className=\"webchat__carousel-filmstrip__attachment react-film__filmstrip__item\"\n                    /* Attachments do not have an ID, it is always indexed by number */\n                    /* eslint-disable-next-line react/no-array-index-key */\n                    key={index}\n                    role=\"group\"\n                  >\n                    <ScreenReaderText text={attachedAlt} />\n                    {/* eslint-disable-next-line react/no-array-index-key */}\n                    <Bubble fromUser={fromUser} key={index} nub={false}>\n                      {renderAttachment({ activity, attachment })}\n                    </Bubble>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        </div>\n        <div className=\"webchat__carousel-filmstrip__alignment-pad\" />\n      </div>\n      {showActivityStatus && (\n        <div className=\"webchat__carousel-filmstrip__status\">\n          <div className=\"webchat__carousel-filmstrip__avatar-gutter\" />\n          <div className=\"webchat__carousel-filmstrip__nub-pad\" />\n          {renderActivityStatus({ hideTimestamp })}\n        </div>\n      )}\n    </div>\n  );\n};\n\nCarouselFilmStrip.defaultProps = {\n  className: '',\n  hideTimestamp: false,\n  renderActivityStatus: false,\n  renderAvatar: false,\n  showCallout: false\n};\n\nCarouselFilmStrip.propTypes = {\n  activity: PropTypes.shape({\n    attachments: PropTypes.array,\n    channelData: PropTypes.shape({\n      messageBack: PropTypes.shape({\n        displayText: PropTypes.string\n      }),\n      state: PropTypes.string\n    }),\n    from: PropTypes.shape({\n      role: PropTypes.string.isRequired\n    }).isRequired,\n    text: PropTypes.string,\n    textFormat: PropTypes.string,\n    timestamp: PropTypes.string\n  }).isRequired,\n  className: PropTypes.string,\n  hideTimestamp: PropTypes.bool,\n  renderActivityStatus: PropTypes.oneOfType([PropTypes.oneOf([false]), PropTypes.func]),\n  renderAttachment: PropTypes.func.isRequired,\n  renderAvatar: PropTypes.oneOfType([PropTypes.oneOf([false]), PropTypes.func]),\n  showCallout: PropTypes.bool\n};\n\nexport default CarouselFilmStrip;\n\nexport { connectCarouselFilmStrip };\n"],"sourceRoot":"component:///"},"metadata":{},"sourceType":"script"}