{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = observeEachEffect;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _effects = require(\"redux-saga/effects\");\n\nvar _createPromiseQueue = _interopRequireDefault(require(\"../../createPromiseQueue\"));\n\nfunction observeEachEffect(observable, saga) {\n  return (0, _effects.call)( /*#__PURE__*/_regenerator[\"default\"].mark(function observeEach() {\n    var queue, subscription, result;\n    return _regenerator[\"default\"].wrap(function observeEach$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            queue = (0, _createPromiseQueue[\"default\"])();\n            subscription = observable.subscribe({\n              next: queue.push\n            });\n            _context.prev = 2;\n\n          case 3:\n            _context.next = 5;\n            return (0, _effects.call)(queue.shift);\n\n          case 5:\n            result = _context.sent;\n            _context.next = 8;\n            return (0, _effects.call)(saga, result);\n\n          case 8:\n            _context.next = 3;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            subscription.unsubscribe();\n            return _context.finish(10);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, observeEach, null, [[2,, 10, 13]]);\n  }));\n}","map":{"version":3,"sources":["../../../src/sagas/effects/observeEach.js"],"names":["queue","subscription","next","push","result"],"mappings":";;;;;;;;;;;AAAA,IAAA,QAAA,GAAA,OAAA,CAAA,oBAAA,CAAA;;AAEA,IAAA,mBAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,0BAAA,CAAA,CAAA;;AAEe,SAAA,iBAAA,CAAA,UAAA,EAAA,IAAA,EAA6C;AAC1D,SAAO,CAAA,GAAA,QAAA,CAAA,IAAA,GAAA,aAAA,YAAA,CAAA,SAAA,CAAA,CAAA,IAAA,CAAK,SAAA,WAAA,GAAA;AAAA,QAAA,KAAA,EAAA,YAAA,EAAA,MAAA;AAAA,WAAA,YAAA,CAAA,SAAA,CAAA,CAAA,IAAA,CAAA,SAAA,YAAA,CAAA,QAAA,EAAA;AAAA,aAAA,CAAA,EAAA;AAAA,gBAAA,QAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA;AAAA,eAAA,CAAA;AACJA,YAAAA,KADI,GACI,CAAA,GAAA,mBAAA,CADJ,SACI,CAAA,GAARA;AACAC,YAAAA,YAFI,GAEW,UAAU,CAAV,SAAA,CAAqB;AAAEC,cAAAA,IAAI,EAAEF,KAAK,CAACG;AAAd,aAArB,CAAfF;AAFI,YAAA,QAAA,CAAA,IAAA,GAAA,CAAA;;AAAA,eAAA,CAAA;AAAA,YAAA,QAAA,CAAA,IAAA,GAAA,CAAA;AAMS,mBAAM,CAAA,GAAA,QAAA,CAAA,IAAA,EAAKD,KAAK,CAAhB,KAAM,CAAN;;AANT,eAAA,CAAA;AAMAI,YAAAA,MANA,GAAA,QAAA,CAAA,IAMAA;AANA,YAAA,QAAA,CAAA,IAAA,GAAA,CAAA;AAQN,mBAAM,CAAA,GAAA,QAAA,CAAA,IAAA,EAAA,IAAA,EAAN,MAAM,CAAN;;AARM,eAAA,CAAA;AAAA,YAAA,QAAA,CAAA,IAAA,GAAA,CAAA;AAAA;;AAAA,eAAA,EAAA;AAAA,YAAA,QAAA,CAAA,IAAA,GAAA,EAAA;AAWRH,YAAAA,YAAY,CAAZA,WAAAA;AAXQ,mBAAA,QAAA,CAAA,MAAA,CAAA,EAAA,CAAA;;AAAA,eAAA,EAAA;AAAA,eAAA,KAAA;AAAA,mBAAA,QAAA,CAAA,IAAA,EAAA;AAAA;AAAA;AAAA,KAAA,EAAA,WAAA,EAAA,IAAA,EAAA,CAAA,CAAA,CAAA,GAAA,EAAA,EAAA,EAAA,CAAA,CAAA,CAAA;AAAZ,GAAO,CAAA,CAAP;AAcD","sourcesContent":["import { call } from 'redux-saga/effects';\n\nimport createPromiseQueue from '../../createPromiseQueue';\n\nexport default function observeEachEffect(observable, saga) {\n  return call(function* observeEach() {\n    const queue = createPromiseQueue();\n    const subscription = observable.subscribe({ next: queue.push });\n\n    try {\n      for (;;) {\n        const result = yield call(queue.shift);\n\n        yield call(saga, result);\n      }\n    } finally {\n      subscription.unsubscribe();\n    }\n  });\n}\n"],"sourceRoot":"core:///"},"metadata":{},"sourceType":"script"}