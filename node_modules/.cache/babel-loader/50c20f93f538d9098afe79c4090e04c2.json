{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useComposerProps;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = require(\"react\");\n\nvar _botframeworkWebchatComponent = require(\"botframework-webchat-component\");\n\nvar _createAdaptiveCardsAttachmentForScreenReaderMiddleware = _interopRequireDefault(require(\"./adaptiveCards/createAdaptiveCardsAttachmentForScreenReaderMiddleware\"));\n\nvar _createAdaptiveCardsAttachmentMiddleware = _interopRequireDefault(require(\"./adaptiveCards/createAdaptiveCardsAttachmentMiddleware\"));\n\nvar _createAdaptiveCardsStyleSet = _interopRequireDefault(require(\"./adaptiveCards/Styles/createAdaptiveCardsStyleSet\"));\n\nvar _renderMarkdown = _interopRequireDefault(require(\"./renderMarkdown\"));\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2.default)(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction useComposerProps(_ref) {\n  var attachmentForScreenReaderMiddleware = _ref.attachmentForScreenReaderMiddleware,\n      attachmentMiddleware = _ref.attachmentMiddleware,\n      renderMarkdown = _ref.renderMarkdown,\n      styleOptions = _ref.styleOptions,\n      styleSet = _ref.styleSet;\n  var patchedAttachmentMiddleware = (0, _react.useMemo)(function () {\n    return (0, _botframeworkWebchatComponent.concatMiddleware)(attachmentMiddleware, (0, _createAdaptiveCardsAttachmentMiddleware.default)());\n  }, [attachmentMiddleware]);\n  var patchedAttachmentForScreenReaderMiddleware = (0, _react.useMemo)(function () {\n    return (0, _botframeworkWebchatComponent.concatMiddleware)(attachmentForScreenReaderMiddleware, (0, _createAdaptiveCardsAttachmentForScreenReaderMiddleware.default)());\n  }, [attachmentForScreenReaderMiddleware]);\n  var patchedStyleOptions = (0, _react.useMemo)(function () {\n    return _objectSpread(_objectSpread({}, _botframeworkWebchatComponent.defaultStyleOptions), styleOptions);\n  }, [styleOptions]); // When styleSet is not specified, the styleOptions will be used to create Adaptive Cards styleSet and merged into useStyleSet.\n\n  var extraStyleSet = (0, _react.useMemo)(function () {\n    return styleSet ? undefined : (0, _createAdaptiveCardsStyleSet.default)(patchedStyleOptions);\n  }, [patchedStyleOptions, styleSet]);\n  var patchedRenderMarkdown = (0, _react.useMemo)(function () {\n    return typeof renderMarkdown === 'undefined' ? function (text) {\n      return (0, _renderMarkdown.default)(text, patchedStyleOptions);\n    } : renderMarkdown;\n  }, [patchedStyleOptions, renderMarkdown]);\n  return {\n    attachmentMiddleware: patchedAttachmentMiddleware,\n    attachmentForScreenReaderMiddleware: patchedAttachmentForScreenReaderMiddleware,\n    extraStyleSet: extraStyleSet,\n    renderMarkdown: patchedRenderMarkdown\n  };\n}","map":{"version":3,"sources":["../src/useComposerProps.js"],"names":["attachmentForScreenReaderMiddleware","attachmentMiddleware","renderMarkdown","styleOptions","styleSet","patchedAttachmentMiddleware","patchedAttachmentForScreenReaderMiddleware","patchedStyleOptions","defaultStyleOptions","extraStyleSet","patchedRenderMarkdown"],"mappings":";;;;;;;;;;;AAAA,IAAA,MAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AAEA,IAAA,6BAAA,GAAA,OAAA,CAAA,gCAAA,CAAA;;AACA,IAAA,uDAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,wEAAA,CAAA,CAAA;;AACA,IAAA,wCAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,yDAAA,CAAA,CAAA;;AACA,IAAA,4BAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,oDAAA,CAAA,CAAA;;AACA,IAAA,eAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,kBAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEe,SAAA,gBAAA,CAAA,IAAA,EAMZ;AAAA,MALDA,mCAKC,GAAA,IAAA,CALDA,mCAKC;AAAA,MAJDC,oBAIC,GAAA,IAAA,CAJDA,oBAIC;AAAA,MAHDC,cAGC,GAAA,IAAA,CAHDA,cAGC;AAAA,MAFDC,YAEC,GAAA,IAAA,CAFDA,YAEC;AAAA,MADDC,QACC,GAAA,IAAA,CADDA,QACC;AACD,MAAMC,2BAA2B,GAAG,CAAA,GAAA,MAAA,CAAA,OAAA,EAClC,YAAA;AAAA,WAAM,CAAA,GAAA,6BAAA,CAAA,gBAAA,EAAA,oBAAA,EAAuC,CAAA,GAAA,wCAAA,CAA7C,OAA6C,GAAvC,CAAN;AADkC,GAAA,EAElC,CAFF,oBAEE,CAFkC,CAApC;AAKA,MAAMC,0CAA0C,GAAG,CAAA,GAAA,MAAA,CAAA,OAAA,EACjD,YAAA;AAAA,WACE,CAAA,GAAA,6BAAA,CAAA,gBAAA,EAAA,mCAAA,EAAsD,CAAA,GAAA,uDAAA,CADxD,OACwD,GAAtD,CADF;AADiD,GAAA,EAGjD,CAHF,mCAGE,CAHiD,CAAnD;AAMA,MAAMC,mBAAmB,GAAG,CAAA,GAAA,MAAA,CAAA,OAAA,EAAQ,YAAA;AAAA,WAAA,aAAA,CAAA,aAAA,CAAA,EAAA,EAAYC,6BAAAA,CAAZ,mBAAA,CAAA,EAAA,YAAA,CAAA;AAAR,GAAA,EAA6D,CAZxF,YAYwF,CAA7D,CAA5B,CAZC,CAcD;;AACA,MAAMC,aAAa,GAAG,CAAA,GAAA,MAAA,CAAA,OAAA,EAAQ,YAAA;AAAA,WAAOL,QAAQ,GAAA,SAAA,GAAe,CAAA,GAAA,4BAAA,CAAA,OAAA,EAA9B,mBAA8B,CAA9B;AAAR,GAAA,EAAyF,CAAA,mBAAA,EAA/G,QAA+G,CAAzF,CAAtB;AAKA,MAAMM,qBAAqB,GAAG,CAAA,GAAA,MAAA,CAAA,OAAA,EAC5B,YAAA;AAAA,WACE,OAAA,cAAA,KAAA,WAAA,GAAwC,UAAA,IAAA,EAAI;AAAA,aAAI,CAAA,GAAA,eAAA,CAAA,OAAA,EAAA,IAAA,EAAJ,mBAAI,CAAJ;AAA5C,KAAA,GADF,cAAA;AAD4B,GAAA,EAG5B,CAAA,mBAAA,EAHF,cAGE,CAH4B,CAA9B;AAMA,SAAO;AACLT,IAAAA,oBAAoB,EADf,2BAAA;AAELD,IAAAA,mCAAmC,EAF9B,0CAAA;AAGLS,IAAAA,aAAa,EAHR,aAAA;AAILP,IAAAA,cAAc,EAAEQ;AAJX,GAAP;AAMD","sourcesContent":["import { useMemo } from 'react';\n\nimport { concatMiddleware, defaultStyleOptions } from 'botframework-webchat-component';\nimport createAdaptiveCardsAttachmentForScreenReaderMiddleware from './adaptiveCards/createAdaptiveCardsAttachmentForScreenReaderMiddleware';\nimport createAdaptiveCardsAttachmentMiddleware from './adaptiveCards/createAdaptiveCardsAttachmentMiddleware';\nimport createAdaptiveCardsStyleSet from './adaptiveCards/Styles/createAdaptiveCardsStyleSet';\nimport defaultRenderMarkdown from './renderMarkdown';\n\nexport default function useComposerProps({\n  attachmentForScreenReaderMiddleware,\n  attachmentMiddleware,\n  renderMarkdown,\n  styleOptions,\n  styleSet\n}) {\n  const patchedAttachmentMiddleware = useMemo(\n    () => concatMiddleware(attachmentMiddleware, createAdaptiveCardsAttachmentMiddleware()),\n    [attachmentMiddleware]\n  );\n\n  const patchedAttachmentForScreenReaderMiddleware = useMemo(\n    () =>\n      concatMiddleware(attachmentForScreenReaderMiddleware, createAdaptiveCardsAttachmentForScreenReaderMiddleware()),\n    [attachmentForScreenReaderMiddleware]\n  );\n\n  const patchedStyleOptions = useMemo(() => ({ ...defaultStyleOptions, ...styleOptions }), [styleOptions]);\n\n  // When styleSet is not specified, the styleOptions will be used to create Adaptive Cards styleSet and merged into useStyleSet.\n  const extraStyleSet = useMemo(() => (styleSet ? undefined : createAdaptiveCardsStyleSet(patchedStyleOptions)), [\n    patchedStyleOptions,\n    styleSet\n  ]);\n\n  const patchedRenderMarkdown = useMemo(\n    () =>\n      typeof renderMarkdown === 'undefined' ? text => defaultRenderMarkdown(text, patchedStyleOptions) : renderMarkdown,\n    [patchedStyleOptions, renderMarkdown]\n  );\n\n  return {\n    attachmentMiddleware: patchedAttachmentMiddleware,\n    attachmentForScreenReaderMiddleware: patchedAttachmentForScreenReaderMiddleware,\n    extraStyleSet,\n    renderMarkdown: patchedRenderMarkdown\n  };\n}\n"],"sourceRoot":"bundle:///"},"metadata":{},"sourceType":"script"}