{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _AdaptiveCardRenderer = _interopRequireDefault(require(\"./AdaptiveCardRenderer\"));\n\nvar _useParseAdaptiveCardJSON = _interopRequireDefault(require(\"../hooks/internal/useParseAdaptiveCardJSON\"));\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2.default)(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction stripSubmitAction(card) {\n  if (!card.actions) {\n    return card;\n  } // Filter out HTTP action buttons\n\n\n  var nextActions = card.actions.filter(function (action) {\n    return action.type !== 'Action.Submit';\n  }).map(function (action) {\n    return action.type === 'Action.ShowCard' ? _objectSpread(_objectSpread({}, action), {}, {\n      card: stripSubmitAction(action.card)\n    }) : action;\n  });\n  return _objectSpread(_objectSpread({}, card), {}, {\n    nextActions: nextActions\n  });\n}\n\nvar AdaptiveCardContent = function AdaptiveCardContent(_ref) {\n  var actionPerformedClassName = _ref.actionPerformedClassName,\n      content = _ref.content,\n      disabled = _ref.disabled;\n  var parseAdaptiveCardJSON = (0, _useParseAdaptiveCardJSON.default)();\n  var card = (0, _react.useMemo)(function () {\n    return parseAdaptiveCardJSON(stripSubmitAction(_objectSpread({\n      version: '1.0'\n    }, (0, _typeof2.default)(content) === 'object' ? content : {})), {\n      ignoreErrors: true\n    });\n  }, [content, parseAdaptiveCardJSON]);\n  return !!card && /*#__PURE__*/_react.default.createElement(_AdaptiveCardRenderer.default, {\n    actionPerformedClassName: actionPerformedClassName,\n    adaptiveCard: card,\n    disabled: disabled\n  });\n};\n\nAdaptiveCardContent.defaultProps = {\n  actionPerformedClassName: '',\n  disabled: undefined\n};\nAdaptiveCardContent.propTypes = {\n  actionPerformedClassName: _propTypes.default.string,\n  content: _propTypes.default.any.isRequired,\n  disabled: _propTypes.default.bool\n};\nvar _default = AdaptiveCardContent;\nexports.default = _default;","map":{"version":3,"sources":["../../../src/adaptiveCards/Attachment/AdaptiveCardContent.js"],"names":["card","nextActions","action","stripSubmitAction","AdaptiveCardContent","actionPerformedClassName","content","disabled","parseAdaptiveCardJSON","version","ignoreErrors","undefined","PropTypes","bool"],"mappings":";;;;;;;;;;;;;;;AAAA,IAAA,UAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,YAAA,CAAA,CAAA;;AACA,IAAA,MAAA,GAAA,uBAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;;AAEA,IAAA,qBAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,wBAAA,CAAA,CAAA;;AACA,IAAA,yBAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,4CAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,SAAA,iBAAA,CAAA,IAAA,EAAiC;AAC/B,MAAI,CAACA,IAAI,CAAT,OAAA,EAAmB;AACjB,WAAA,IAAA;AAF6B,GAAA,CAK/B;;;AACA,MAAMC,WAAW,GAAG,IAAI,CAAJ,OAAA,CAAA,MAAA,CACV,UAAA,MAAA,EAAM;AAAA,WAAIC,MAAM,CAANA,IAAAA,KAAJ,eAAA;AADI,GAAA,EAAA,GAAA,CAEb,UAAA,MAAA,EAAM;AAAA,WAAK,MAAM,CAAN,IAAA,KAAA,iBAAA,GAAA,aAAA,CAAA,aAAA,CAAA,EAAA,EAAA,MAAA,CAAA,EAAA,EAAA,EAAA;AAAiDF,MAAAA,IAAI,EAAEG,iBAAiB,CAACD,MAAM,CAAP,IAAA;AAAxE,KAAA,CAAA,GAAL,MAAA;AAFb,GAAoB,CAApB;AAIA,SAAA,aAAA,CAAA,aAAA,CAAA,EAAA,EAAA,IAAA,CAAA,EAAA,EAAA,EAAA;AAAkBD,IAAAA,WAAW,EAAXA;AAAlB,GAAA,CAAA;AACD;;AAED,IAAMG,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAA,IAAA,EAAqD;AAAA,MAAlDC,wBAAkD,GAAA,IAAA,CAAlDA,wBAAkD;AAAA,MAAxBC,OAAwB,GAAA,IAAA,CAAxBA,OAAwB;AAAA,MAAfC,QAAe,GAAA,IAAA,CAAfA,QAAe;AAC/E,MAAMC,qBAAqB,GAAG,CAAA,GAAA,yBAAA,CAA9B,OAA8B,GAA9B;AAEA,MAAMR,IAAI,GAAG,CAAA,GAAA,MAAA,CAAA,OAAA,EACX,YAAA;AAAA,WACEQ,qBAAqB,CACnBL,iBAAiB,CAAA,aAAA,CAAA;AACfM,MAAAA,OAAO,EAAE;AADM,KAAA,EAEX,CAAA,GAAA,QAAA,CAAA,OAAA,EAAA,OAAA,MAAA,QAAA,GAAA,OAAA,GAHa,EACF,CAAA,CADE,EAKnB;AAAEC,MAAAA,YAAY,EAAE;AAAhB,KALmB,CADvB;AADW,GAAA,EASX,CAAA,OAAA,EATF,qBASE,CATW,CAAb;AAYA,SACE,CAAC,CAAD,IAAA,IAAA,aACE,MAAA,CAAA,OAAA,CAAA,aAAA,CAAC,qBAAA,CAAD,OAAA,EAAA;AACE,IAAA,wBAAwB,EAD1B,wBAAA;AAEE,IAAA,YAAY,EAFd,IAAA;AAGE,IAAA,QAAQ,EAAEH;AAHZ,GAAA,CAFJ;AAfF,CAAA;;AA0BAH,mBAAmB,CAAnBA,YAAAA,GAAmC;AACjCC,EAAAA,wBAAwB,EADS,EAAA;AAEjCE,EAAAA,QAAQ,EAAEI;AAFuB,CAAnCP;AAKAA,mBAAmB,CAAnBA,SAAAA,GAAgC;AAC9BC,EAAAA,wBAAwB,EAAEO,UAAAA,CAAAA,OAAAA,CADI,MAAA;AAE9BN,EAAAA,OAAO,EAAEM,UAAAA,CAAAA,OAAAA,CAAAA,GAAAA,CAFqB,UAAA;AAG9BL,EAAAA,QAAQ,EAAEK,UAAAA,CAAAA,OAAAA,CAAUC;AAHU,CAAhCT;eAMeA,mB","sourcesContent":["import PropTypes from 'prop-types';\nimport React, { useMemo } from 'react';\n\nimport AdaptiveCardRenderer from './AdaptiveCardRenderer';\nimport useParseAdaptiveCardJSON from '../hooks/internal/useParseAdaptiveCardJSON';\n\nfunction stripSubmitAction(card) {\n  if (!card.actions) {\n    return card;\n  }\n\n  // Filter out HTTP action buttons\n  const nextActions = card.actions\n    .filter(action => action.type !== 'Action.Submit')\n    .map(action => (action.type === 'Action.ShowCard' ? { ...action, card: stripSubmitAction(action.card) } : action));\n\n  return { ...card, nextActions };\n}\n\nconst AdaptiveCardContent = ({ actionPerformedClassName, content, disabled }) => {\n  const parseAdaptiveCardJSON = useParseAdaptiveCardJSON();\n\n  const card = useMemo(\n    () =>\n      parseAdaptiveCardJSON(\n        stripSubmitAction({\n          version: '1.0',\n          ...(typeof content === 'object' ? content : {})\n        }),\n        { ignoreErrors: true }\n      ),\n    [content, parseAdaptiveCardJSON]\n  );\n\n  return (\n    !!card && (\n      <AdaptiveCardRenderer\n        actionPerformedClassName={actionPerformedClassName}\n        adaptiveCard={card}\n        disabled={disabled}\n      />\n    )\n  );\n};\n\nAdaptiveCardContent.defaultProps = {\n  actionPerformedClassName: '',\n  disabled: undefined\n};\n\nAdaptiveCardContent.propTypes = {\n  actionPerformedClassName: PropTypes.string,\n  content: PropTypes.any.isRequired,\n  disabled: PropTypes.bool\n};\n\nexport default AdaptiveCardContent;\n"],"sourceRoot":"bundle:///"},"metadata":{},"sourceType":"script"}