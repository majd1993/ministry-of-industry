{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _botframeworkWebchatApi = require(\"botframework-webchat-api\");\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _DownloadIcon = _interopRequireDefault(require(\"./Assets/DownloadIcon\"));\n\nvar _ScreenReaderText = _interopRequireDefault(require(\"../ScreenReaderText\"));\n\nvar _useStyleSet3 = _interopRequireDefault(require(\"../hooks/useStyleSet\"));\n\nvar _useStyleToEmotionObject = _interopRequireDefault(require(\"../hooks/internal/useStyleToEmotionObject\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar useByteFormatter = _botframeworkWebchatApi.hooks.useByteFormatter,\n    useDirection = _botframeworkWebchatApi.hooks.useDirection,\n    useLocalizer = _botframeworkWebchatApi.hooks.useLocalizer;\nvar ROOT_STYLE = {\n  display: 'flex',\n  '& .webchat__fileContent__buttonLink': {\n    display: 'flex',\n    flex: 1\n  },\n  '& .webchat__fileContent__badge': {\n    display: 'flex',\n    flex: 1,\n    flexDirection: 'column'\n  }\n};\n\nvar FileContentBadge = function FileContentBadge(_ref) {\n  var downloadIcon = _ref.downloadIcon,\n      fileName = _ref.fileName,\n      size = _ref.size;\n\n  var _useDirection = useDirection(),\n      _useDirection2 = _slicedToArray(_useDirection, 1),\n      direction = _useDirection2[0];\n\n  var formatByte = useByteFormatter();\n  var localizedSize = typeof size === 'number' && formatByte(size);\n  return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(\"div\", {\n    \"aria-hidden\": true,\n    className: \"webchat__fileContent__badge\"\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"webchat__fileContent__fileName\"\n  }, fileName), !!localizedSize && /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"webchat__fileContent__size\"\n  }, localizedSize)), downloadIcon && /*#__PURE__*/_react.default.createElement(_DownloadIcon.default, {\n    className: (0, _classnames.default)('webchat__fileContent__downloadIcon', direction === 'rtl' && 'webchat__fileContent__downloadIcon--rtl'),\n    size: 1.5\n  }));\n};\n\nFileContentBadge.defaultProps = {\n  downloadIcon: false,\n  size: undefined\n};\nFileContentBadge.propTypes = {\n  downloadIcon: _propTypes.default.bool,\n  fileName: _propTypes.default.string.isRequired,\n  size: _propTypes.default.number\n};\n\nvar FileContent = function FileContent(_ref2) {\n  var className = _ref2.className,\n      href = _ref2.href,\n      fileName = _ref2.fileName,\n      size = _ref2.size;\n\n  var _useStyleSet = (0, _useStyleSet3.default)(),\n      _useStyleSet2 = _slicedToArray(_useStyleSet, 1),\n      fileContentStyleSet = _useStyleSet2[0].fileContent;\n\n  var localize = useLocalizer();\n  var localizeBytes = useByteFormatter();\n  var rootClassName = (0, _useStyleToEmotionObject.default)()(ROOT_STYLE) + '';\n  var localizedSize = typeof size === 'number' && localizeBytes(size);\n  var alt = localize(href ? localizedSize ? 'FILE_CONTENT_DOWNLOADABLE_WITH_SIZE_ALT' : 'FILE_CONTENT_DOWNLOADABLE_ALT' : localizedSize ? 'FILE_CONTENT_WITH_SIZE_ALT' : 'FILE_CONTENT_ALT', fileName, localizedSize);\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    \"aria-hidden\": true,\n    className: (0, _classnames.default)('webchat__fileContent', rootClassName, fileContentStyleSet + '', (className || '') + '')\n  }, /*#__PURE__*/_react.default.createElement(_ScreenReaderText.default, {\n    text: alt\n  }), href ? /*#__PURE__*/_react.default.createElement(\"a\", {\n    \"aria-hidden\": true,\n    className: \"webchat__fileContent__buttonLink\",\n    download: fileName,\n    href: href,\n    rel: \"noopener noreferrer\",\n    target: \"_blank\"\n  }, /*#__PURE__*/_react.default.createElement(FileContentBadge, {\n    downloadIcon: true,\n    fileName: fileName,\n    size: size\n  })) : /*#__PURE__*/_react.default.createElement(FileContentBadge, {\n    downloadIcon: false,\n    fileName: fileName,\n    size: size\n  }));\n};\n\nFileContent.defaultProps = {\n  className: '',\n  href: undefined,\n  size: undefined\n};\nFileContent.propTypes = {\n  className: _propTypes.default.string,\n  fileName: _propTypes.default.string.isRequired,\n  href: _propTypes.default.string,\n  size: _propTypes.default.number\n};\nvar _default = FileContent;\nexports.default = _default;","map":{"version":3,"sources":["../../src/Attachment/FileContent.js"],"names":["useByteFormatter","useDirection","useLocalizer","hooks","ROOT_STYLE","display","flex","flexDirection","FileContentBadge","downloadIcon","fileName","size","direction","formatByte","localizedSize","undefined","PropTypes","number","FileContent","className","href","fileContentStyleSet","localize","localizeBytes","rootClassName","alt"],"mappings":";;;;;;;AAAA,IAAA,uBAAA,GAAA,OAAA,CAAA,0BAAA,CAAA;;AACA,IAAA,WAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,YAAA,CAAA,CAAA;;AACA,IAAA,UAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,YAAA,CAAA,CAAA;;AACA,IAAA,MAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;;AAEA,IAAA,aAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,uBAAA,CAAA,CAAA;;AACA,IAAA,iBAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,qBAAA,CAAA,CAAA;;AACA,IAAA,aAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,sBAAA,CAAA,CAAA;;AACA,IAAA,wBAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,2CAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEQA,gB,GAAiDG,uBAAAA,CAAAA,KAAAA,CAAjDH,gB;IAAkBC,Y,GAA+BE,uBAAAA,CAAAA,KAAAA,CAA/BF,Y;IAAcC,Y,GAAiBC,uBAAAA,CAAAA,KAAAA,CAAjBD,Y;AAExC,IAAME,UAAU,GAAG;AACjBC,EAAAA,OAAO,EADU,MAAA;AAGjB,yCAAuC;AACrCA,IAAAA,OAAO,EAD8B,MAAA;AAErCC,IAAAA,IAAI,EAAE;AAF+B,GAHtB;AAQjB,oCAAkC;AAChCD,IAAAA,OAAO,EADyB,MAAA;AAEhCC,IAAAA,IAAI,EAF4B,CAAA;AAGhCC,IAAAA,aAAa,EAAE;AAHiB;AARjB,CAAnB;;AAeA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAA,IAAA,EAAsC;AAAA,MAAnCC,YAAmC,GAAA,IAAA,CAAnCA,YAAmC;AAAA,MAArBC,QAAqB,GAAA,IAAA,CAArBA,QAAqB;AAAA,MAAXC,IAAW,GAAA,IAAA,CAAXA,IAAW;;AAAA,MAAA,aAAA,GACzCV,YADyC,EAAA;AAAA,MAAA,cAAA,GAAA,cAAA,CAAA,aAAA,EAAA,CAAA,CAAA;AAAA,MACtDW,SADsD,GAAA,cAAA,CAAA,CAAA,CAAA;;AAE7D,MAAMC,UAAU,GAAGb,gBAAnB,EAAA;AAEA,MAAMc,aAAa,GAAG,OAAA,IAAA,KAAA,QAAA,IAA4BD,UAAU,CAA5D,IAA4D,CAA5D;AAEA,SAAA,aACE,MAAA,CAAA,OAAA,CAAA,aAAA,CAAC,MAAA,CAAD,OAAC,CAAD,QAAA,EAAA,IAAA,EAAA,aACE,MAAA,CAAA,OAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,mBAAL,IAAA;AAAwB,IAAA,SAAS,EAAC;AAAlC,GAAA,EAAA,aACE,MAAA,CAAA,OAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC;AAAf,GAAA,EADF,QACE,CADF,EAEG,CAAC,CAAD,aAAA,IAAA,aAAmB,MAAA,CAAA,OAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC;AAAf,GAAA,EAHxB,aAGwB,CAFtB,CADF,EAKGJ,YAAY,IAAA,aACX,MAAA,CAAA,OAAA,CAAA,aAAA,CAAC,aAAA,CAAD,OAAA,EAAA;AACE,IAAA,SAAS,EAAE,CAAA,GAAA,WAAA,CAAA,OAAA,EAAA,oCAAA,EAETG,SAAS,KAATA,KAAAA,IAHJ,yCACa,CADb;AAKE,IAAA,IAAI,EAAE;AALR,GAAA,CANJ,CADF;AANF,CAAA;;AAyBAJ,gBAAgB,CAAhBA,YAAAA,GAAgC;AAC9BC,EAAAA,YAAY,EADkB,KAAA;AAE9BE,EAAAA,IAAI,EAAEI;AAFwB,CAAhCP;AAKAA,gBAAgB,CAAhBA,SAAAA,GAA6B;AAC3BC,EAAAA,YAAY,EAAEO,UAAAA,CAAAA,OAAAA,CADa,IAAA;AAE3BN,EAAAA,QAAQ,EAAEM,UAAAA,CAAAA,OAAAA,CAAAA,MAAAA,CAFiB,UAAA;AAG3BL,EAAAA,IAAI,EAAEK,UAAAA,CAAAA,OAAAA,CAAUC;AAHW,CAA7BT;;AAMA,IAAMU,WAAW,GAAG,SAAdA,WAAc,CAAA,KAAA,EAAyC;AAAA,MAAtCC,SAAsC,GAAA,KAAA,CAAtCA,SAAsC;AAAA,MAA3BC,IAA2B,GAAA,KAAA,CAA3BA,IAA2B;AAAA,MAArBV,QAAqB,GAAA,KAAA,CAArBA,QAAqB;AAAA,MAAXC,IAAW,GAAA,KAAA,CAAXA,IAAW;;AAAA,MAAA,YAAA,GACZ,CAAA,GAAA,aAAA,CADY,OACZ,GADY;AAAA,MAAA,aAAA,GAAA,cAAA,CAAA,YAAA,EAAA,CAAA,CAAA;AAAA,MACrCU,mBADqC,GAAA,aAAA,CAAA,CAAA,CAAA,CAAA,WAAA;;AAE3D,MAAMC,QAAQ,GAAGpB,YAAjB,EAAA;AACA,MAAMqB,aAAa,GAAGvB,gBAAtB,EAAA;AACA,MAAMwB,aAAa,GAAG,CAAA,GAAA,wBAAA,CAAA,OAAA,IAAA,UAAA,IAAtB,EAAA;AAEA,MAAMV,aAAa,GAAG,OAAA,IAAA,KAAA,QAAA,IAA4BS,aAAa,CAA/D,IAA+D,CAA/D;AAEA,MAAME,GAAG,GAAGH,QAAQ,CAClBF,IAAI,GACAN,aAAa,GAAA,yCAAA,GADb,+BAAA,GAIAA,aAAa,GAAA,4BAAA,GALC,kBAAA,EAAA,QAAA,EAApB,aAAoB,CAApB;AAYA,SAAA,aACE,MAAA,CAAA,OAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACE,mBADF,IAAA;AAEE,IAAA,SAAS,EAAE,CAAA,GAAA,WAAA,CAAA,OAAA,EAAA,sBAAA,EAAA,aAAA,EAAkDO,mBAAmB,GAArE,EAAA,EAA4E,CAACF,SAAS,IAAV,EAAA,IAA5E,EAAA;AAFb,GAAA,EAAA,aAIE,MAAA,CAAA,OAAA,CAAA,aAAA,CAAC,iBAAA,CAAD,OAAA,EAAA;AAAkB,IAAA,IAAI,EAAEM;AAAxB,GAAA,CAJF,EAKGL,IAAI,GAAA,aACH,MAAA,CAAA,OAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AACE,mBADF,IAAA;AAEE,IAAA,SAAS,EAFX,kCAAA;AAGE,IAAA,QAAQ,EAHV,QAAA;AAIE,IAAA,IAAI,EAJN,IAAA;AAKE,IAAA,GAAG,EALL,qBAAA;AAME,IAAA,MAAM,EAAC;AANT,GAAA,EAAA,aASE,MAAA,CAAA,OAAA,CAAA,aAAA,CAAA,gBAAA,EAAA;AAAkB,IAAA,YAAY,EAA9B,IAAA;AAAsC,IAAA,QAAQ,EAA9C,QAAA;AAA0D,IAAA,IAAI,EAAET;AAAhE,GAAA,CATF,CADG,GAAA,aAaH,MAAA,CAAA,OAAA,CAAA,aAAA,CAAA,gBAAA,EAAA;AAAkB,IAAA,YAAY,EAA9B,KAAA;AAAuC,IAAA,QAAQ,EAA/C,QAAA;AAA2D,IAAA,IAAI,EAAEA;AAAjE,GAAA,CAlBJ,CADF;AApBF,CAAA;;AA6CAO,WAAW,CAAXA,YAAAA,GAA2B;AACzBC,EAAAA,SAAS,EADgB,EAAA;AAEzBC,EAAAA,IAAI,EAFqB,SAAA;AAGzBT,EAAAA,IAAI,EAAEI;AAHmB,CAA3BG;AAMAA,WAAW,CAAXA,SAAAA,GAAwB;AACtBC,EAAAA,SAAS,EAAEH,UAAAA,CAAAA,OAAAA,CADW,MAAA;AAEtBN,EAAAA,QAAQ,EAAEM,UAAAA,CAAAA,OAAAA,CAAAA,MAAAA,CAFY,UAAA;AAGtBI,EAAAA,IAAI,EAAEJ,UAAAA,CAAAA,OAAAA,CAHgB,MAAA;AAItBL,EAAAA,IAAI,EAAEK,UAAAA,CAAAA,OAAAA,CAAUC;AAJM,CAAxBC;eAOeA,W","sourcesContent":["import { hooks } from 'botframework-webchat-api';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport DownloadIcon from './Assets/DownloadIcon';\nimport ScreenReaderText from '../ScreenReaderText';\nimport useStyleSet from '../hooks/useStyleSet';\nimport useStyleToEmotionObject from '../hooks/internal/useStyleToEmotionObject';\n\nconst { useByteFormatter, useDirection, useLocalizer } = hooks;\n\nconst ROOT_STYLE = {\n  display: 'flex',\n\n  '& .webchat__fileContent__buttonLink': {\n    display: 'flex',\n    flex: 1\n  },\n\n  '& .webchat__fileContent__badge': {\n    display: 'flex',\n    flex: 1,\n    flexDirection: 'column'\n  }\n};\n\nconst FileContentBadge = ({ downloadIcon, fileName, size }) => {\n  const [direction] = useDirection();\n  const formatByte = useByteFormatter();\n\n  const localizedSize = typeof size === 'number' && formatByte(size);\n\n  return (\n    <React.Fragment>\n      <div aria-hidden={true} className=\"webchat__fileContent__badge\">\n        <div className=\"webchat__fileContent__fileName\">{fileName}</div>\n        {!!localizedSize && <div className=\"webchat__fileContent__size\">{localizedSize}</div>}\n      </div>\n      {downloadIcon && (\n        <DownloadIcon\n          className={classNames(\n            'webchat__fileContent__downloadIcon',\n            direction === 'rtl' && 'webchat__fileContent__downloadIcon--rtl'\n          )}\n          size={1.5}\n        />\n      )}\n    </React.Fragment>\n  );\n};\n\nFileContentBadge.defaultProps = {\n  downloadIcon: false,\n  size: undefined\n};\n\nFileContentBadge.propTypes = {\n  downloadIcon: PropTypes.bool,\n  fileName: PropTypes.string.isRequired,\n  size: PropTypes.number\n};\n\nconst FileContent = ({ className, href, fileName, size }) => {\n  const [{ fileContent: fileContentStyleSet }] = useStyleSet();\n  const localize = useLocalizer();\n  const localizeBytes = useByteFormatter();\n  const rootClassName = useStyleToEmotionObject()(ROOT_STYLE) + '';\n\n  const localizedSize = typeof size === 'number' && localizeBytes(size);\n\n  const alt = localize(\n    href\n      ? localizedSize\n        ? 'FILE_CONTENT_DOWNLOADABLE_WITH_SIZE_ALT'\n        : 'FILE_CONTENT_DOWNLOADABLE_ALT'\n      : localizedSize\n      ? 'FILE_CONTENT_WITH_SIZE_ALT'\n      : 'FILE_CONTENT_ALT',\n    fileName,\n    localizedSize\n  );\n\n  return (\n    <div\n      aria-hidden={true}\n      className={classNames('webchat__fileContent', rootClassName, fileContentStyleSet + '', (className || '') + '')}\n    >\n      <ScreenReaderText text={alt} />\n      {href ? (\n        <a\n          aria-hidden={true}\n          className=\"webchat__fileContent__buttonLink\"\n          download={fileName}\n          href={href}\n          rel=\"noopener noreferrer\"\n          target=\"_blank\"\n        >\n          {/* Although nested, Chrome v75 does not respect the above aria-hidden and makes the below aria-hidden in FileContentBadge necessary */}\n          <FileContentBadge downloadIcon={true} fileName={fileName} size={size} />\n        </a>\n      ) : (\n        <FileContentBadge downloadIcon={false} fileName={fileName} size={size} />\n      )}\n    </div>\n  );\n};\n\nFileContent.defaultProps = {\n  className: '',\n  href: undefined,\n  size: undefined\n};\n\nFileContent.propTypes = {\n  className: PropTypes.string,\n  fileName: PropTypes.string.isRequired,\n  href: PropTypes.string,\n  size: PropTypes.number\n};\n\nexport default FileContent;\n"],"sourceRoot":"component:///"},"metadata":{},"sourceType":"script"}