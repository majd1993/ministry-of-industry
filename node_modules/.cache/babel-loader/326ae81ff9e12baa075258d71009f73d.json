{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createCoreMiddleware;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _AudioAttachment = _interopRequireDefault(require(\"./AudioAttachment\"));\n\nvar _FileAttachment = _interopRequireDefault(require(\"./FileAttachment\"));\n\nvar _ImageAttachment = _interopRequireDefault(require(\"./ImageAttachment\"));\n\nvar _TextAttachment = _interopRequireDefault(require(\"./TextAttachment\"));\n\nvar _VideoAttachment = _interopRequireDefault(require(\"./VideoAttachment\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction createCoreMiddleware() {\n  return [function () {\n    return function (next) {\n      return function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        var _args$ = args[0],\n            _args$$activity = _args$.activity;\n        _args$$activity = _args$$activity === void 0 ? {} : _args$$activity;\n        var _args$$activity$from = _args$$activity.from;\n        _args$$activity$from = _args$$activity$from === void 0 ? {} : _args$$activity$from;\n        var role = _args$$activity$from.role,\n            attachment = _args$.attachment,\n            _args$$attachment = _args$.attachment;\n        _args$$attachment = _args$$attachment === void 0 ? {} : _args$$attachment;\n        var contentType = _args$$attachment.contentType,\n            contentUrl = _args$$attachment.contentUrl,\n            thumbnailUrl = _args$$attachment.thumbnailUrl;\n        return role === 'user' && !/^text\\//.test(contentType) && !thumbnailUrl ? function () {\n          return /*#__PURE__*/_react.default.createElement(_FileAttachment.default, {\n            attachment: attachment\n          });\n        } : /^audio\\//.test(contentType) ? function () {\n          return /*#__PURE__*/_react.default.createElement(_AudioAttachment.default, null);\n        } : /^image\\//.test(contentType) ? function () {\n          return /*#__PURE__*/_react.default.createElement(_ImageAttachment.default, null);\n        } : /^video\\//.test(contentType) ? function () {\n          return /*#__PURE__*/_react.default.createElement(_VideoAttachment.default, null);\n        } : contentUrl || contentType === 'application/octet-stream' ? function () {\n          return /*#__PURE__*/_react.default.createElement(_FileAttachment.default, {\n            attachment: attachment\n          });\n        } : /^text\\//.test(contentType) ? function () {\n          return /*#__PURE__*/_react.default.createElement(_TextAttachment.default, {\n            attachment: attachment\n          });\n        } : next.apply(void 0, args);\n      };\n    };\n  }];\n}","map":{"version":3,"sources":["../../../src/Middleware/AttachmentForScreenReader/createCoreMiddleware.js"],"names":["args","role","attachment","contentType","contentUrl","thumbnailUrl","next"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport AudioAttachment from './AudioAttachment';\nimport FileAttachment from './FileAttachment';\nimport ImageAttachment from './ImageAttachment';\nimport TextAttachment from './TextAttachment';\nimport VideoAttachment from './VideoAttachment';\n\nexport default function createCoreMiddleware() {\n  return [\n    () => next => (...args) => {\n      const [\n        {\n          activity: { from: { role } = {} } = {},\n          attachment,\n          attachment: { contentType, contentUrl, thumbnailUrl } = {}\n        }\n      ] = args;\n\n      return role === 'user' && !/^text\\//u.test(contentType) && !thumbnailUrl\n        ? () => <FileAttachment attachment={attachment} />\n        : /^audio\\//u.test(contentType)\n        ? () => <AudioAttachment />\n        : /^image\\//u.test(contentType)\n        ? () => <ImageAttachment />\n        : /^video\\//u.test(contentType)\n        ? () => <VideoAttachment />\n        : contentUrl || contentType === 'application/octet-stream'\n        ? () => <FileAttachment attachment={attachment} />\n        : /^text\\//u.test(contentType)\n        ? () => <TextAttachment attachment={attachment} />\n        : next(...args);\n    }\n  ];\n}\n"],"sourceRoot":"component:///"},"metadata":{},"sourceType":"script"}